\documentclass[12pt]{amsart}
% add [leqno] to move equation numbers to left side

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%    Packages    %%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%   Formatting Packages    %%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{showframe} % draw boxes around body, etc. to detect broken margins
%\pdfpkresolution=1200
\usepackage{fancyhdr}
\usepackage{enumitem} % Better Lists
\newlist{condenum}{enumerate}{1}
%\usepackage{nicematrix} % Better matrices
\usepackage{xcolor} % Better colors
\usepackage{graphicx} % Better layout control
\usepackage{hyperref} % Better \refs and \cites
%\usepackage[margin ={1.5in, 1in}]{geometry} % Better pagestuff

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%    Math Packages    %%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}
\allowdisplaybreaks
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{mathabx}
\usepackage{bbm}
\usepackage{shuffle}
\usepackage[mathscr]{eucal}
%\usepackage{mathrsfs}
\usepackage{stmaryrd} % Includes \mapsfrom
\usepackage{makecell}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%    TikZ Packages    %%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tikz}
\usetikzlibrary{patterns, arrows, matrix, positioning, calc}
\usepackage{tikz-cd}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%     Fancy Comments    %%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xcolor}
\usepackage[colorinlistoftodos]{todonotes}
\newcommand{\lucas}[1]{\todo[size=\tiny,color=green!5!red!30!yellow!80]{#1 \\  --- Lucas}}
\newcommand{\Lucas}[1]{\todo[size=\tiny,inline,color=green!5!red!30!yellow!80]{#1 \\ \hfill --- Lucas}}
\newcommand{\nantel}[1]{\todo[size=\tiny,color=blue!30]{#1 \\ \hfill --- Nantel}}
\newcommand{\Nantel}[1]{\todo[size=\tiny,inline,color=blue!30]{#1 \\ \hfill --- Nantel}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%    Page setup    %%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\evensidemargin}{1in}
\addtolength{\evensidemargin}{-1in}
\setlength{\oddsidemargin}{1in}
\addtolength{\oddsidemargin}{-1in}
\setlength{\topmargin}{1in}
\addtolength{\topmargin}{-1.5in}
%
\setlength{\textwidth}{16.5cm}
\setlength{\textheight}{23cm}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%     Bibliography     %%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage[
%	backend = biber,
%	style=numeric,
%	natbib=false,
%	isbn=false, 
%	url = false,
%	isbn=false, 
%	doi=false]{biblatex}
%\addbibresource{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%     Macros - General     %%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%
% Theorem Environments
%%%%%%%%%%%
\newtheorem{thm}[equation]{Theorem}
\newtheorem{conj}[equation]{Conjecture}
\newtheorem{openproblem}[equation]{Open Problem}
\newtheorem{question}[equation]{Question}
\newtheorem{prop}[equation]{Proposition}
\newtheorem{lem}[equation]{Lemma}
\newtheorem{cor}[equation]{Corollary}
\theoremstyle{definition}
\newtheorem{ex}[equation]{Example}
\newtheorem{definition}[equation]{Definition}
\theoremstyle{remark}
\newtheorem{rem}[equation]{Remark}
\newtheorem{rems}[equation]{Remarks}
%
\numberwithin{equation}{section}
%
%%%%%%%%%%%
\newenvironment{introthm}[1]{
  \renewcommand\theequation{#1}
  \thm
}{\endthm}
%%%%%%%%%%%
\newenvironment{introcor}[1]{
  \renewcommand\theequation{#1}
  \cor
}{\endcor}
%%%%%%%%%%%



%%%%%%%%%%%
% Letter Macros
%%%%%%%%%%%
% Blackboard Letters
\newcommand{\FF}{\mathbb{F}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\KK}{\mathbb{K}}
% Calligraphic - Triple Capital Letters
\def\mydefb#1{\expandafter\def\csname #1#1#1\endcsname{\mathcal{#1}}}
\def\mydefallb#1{\ifx#1\mydefallb\else\mydefb#1\expandafter\mydefallb\fi}
\mydefallb ABCDEFGHIJKLMNOPQRSTUVWXYZ\mydefallb

%%%%%%%%%%%
% Nicening Macros
%%%%%%%%%%%
\renewcommand{\epsilon}{\varepsilon}
\newcommand{\spanning}{\operatorname{-span}}
\renewcommand{\hom}{\operatorname{Hom}}
\renewcommand{\setminus}{-}

%%%%%%%%%%%
% Width Adjustment
%%%%%%%%%%%
% For sufficiently new LaTeX installations:
%\NewCommandCopy{\narrowhat}{\hat}
%\renewcommand{\hat}{\widehat}
%\NewCommandCopy{\shortto}{\to}
%\renewcommand{\to}{\longrightarrow}
%\NewCommandCopy{\shortmapsto}{\mapsto}
%\renewcommand{\mapsto}{\longmapsto}
%\NewCommandCopy{\shortmapsfrom}{\mapsfrom}
%\renewcommand{\mapsfrom}{\longmapsfrom}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%     Macros - Paper     %%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\TL}{\mathsf{TL}}

\newcommand{\Sym}{\mathrm{Sym}}
\newcommand{\QSym}{\mathrm{QSym}}
\newcommand{\QSV}{\mathrm{QSV}}
\newcommand{\NCP}{\mathrm{NCP}}

\newcommand{\EP}{E_{pos}}
\newcommand{\EV}{E_{val}}

%%%%%Tikz Paper Macros
%% Black edge
\newcommand{\edge}[2]{\tikz[scale = 0.75, baseline = -0.2cm]{
\draw (0.1, 0) node[inner sep = 0ex] (a) {};
\node[left, xshift = 0.1cm, yshift = -0.1cm] at (a) {$\scriptstyle #1$};
\draw (0.9, 0)  node[inner sep = 0ex] (b) {};
\node[right, xshift = -0.1cm, yshift = -0.1cm] at (b) {$\scriptstyle #2$};
\draw[thick] (a) to[out = 35, in = 145] (b);}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%     Page Details     %%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagestyle{fancy}
%\fancyhf{}
\lhead{}
\chead{}
\rhead{}
\cfoot{\thepage}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\title{The excedance quotient of the Bruhat order, Quasisymmetric Varieties and Temperley-Lieb algebras}
\author{ Nantel Bergeron and Lucas Gagnon}
\address{Dept. of Math. and Stat.\\ York  University\\ To\-ron\-to, Ontario M3J 1P3\\ CANADA}
\email{bergeron@yorku.ca, lgagnon@yorku.ca}
%\date{\day}
\keywords{Noncrossing partitions, Quasisymmetric polynomials, Varieties of points}
\thanks{This work is supported in part by York Research Chair and NSERC.
This paper originated in a working session at the Algebraic
Combinatorics Seminar at Fields Institute}
\date{}

\keywords{Quasisymmetric Polynomials, } 

\subjclass[2020]{05E05, ???}
\begin{document}

\maketitle
\begin{abstract} Let $R_n=\QQ[x_1,x_2,\ldots,x_n]$ be the ring of polynomial in $n$ variables. Consider the ideal $\langle \QSym^+\rangle\subseteq R_n$ generated by quasisymmetric polynomials
without constant term. It was shown by J.~C.~Aval, F.~Bergeron and  N.~Bergeron that $\dim\big(R_n/\langle \QSym_{n}^{+} \rangle\big)=C_n$ the $n$th Catalan number. Here, we define a set of permutations $\QSV_n$ with the following properties. $\QSV_n$ is a basis of the Temperley-Lied Algebra $\TL_n(2)$. When we consider the permutations in $\QSV_n$ as points $(\sigma_1,\sigma_2,\ldots,\sigma_n)\in\QQ^n$, 
then the vanishing ideal $ \mathbf{I}(QSV_n)$ is such that the top homogeneous component 
$$gr\big(\mathbf{I}(\QSV_n)\big)=\big\langle \mathsf{h}(f): f\in \mathbf{I}(QSV_n)\big\rangle=\big\langle \QSym_{n}^{+} \big\rangle.$$ 
Here  $\mathsf{h}(f)$ denote the top degree homogeneous component of $f$.

We have a few byproducts of our construction. We give a partition of the symmetric group $S_n$ into equivalent classes given by excedence classes $C_\lambda$. The indexes $\lambda$ are non-crossing partition of $\{1,2,\ldots,n\}$. For each $\lambda$, the class $C_\lambda$ is an interval of the Bruhat order containing a unique element on $\QSV_n$ (which is the maximum in the interval) and a unique $321$-avoiding permutation (which is the minimum). We show that in fact any section of the excedence classes produce a basis of $\TL_n$. We show that the Bruhat order induce a well defined order on the quotient $S_n/\!\!\sim$ by excedence classes. This allows us to also induce a weak order $S_n/\!\!\sim$.
\end{abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%This paper is motivated by the coincidence of two realizations of the left regular representation for the symmetric group $S_{n}$:
%\begin{enumerate}[itemsep = 1ex]
%\item the quotient $R_{n}/(\Sym_{n}^{+})$ of the polynomial ring $R_{n} = \QQ[x_{1}, \ldots, x_{n}]$ by the ideal generated by positive-degree symmetric polynomials $\Sym_{n}^{+}$, and
%
%\item the coordinate ring $R_{n} / I(S_{n})$ for the vertices of the regular permutohedron in $\QQ^{n}$, which are the points $(\sigma_{1}, \ldots, \sigma_{n})$ for each $\sigma \in S_{n}$.%: $(\sigma_{1}, \ldots, \sigma_{n}) \in $
%
%\end{enumerate}
%The construction of (1) is a famous case of Chevalley's coinvariant theorem (see e.g.~\cite{Humphrey}): the $S_{n}$-invariants of $R_{n}$ are the symmetric polynomials, and $R_{n}/(\Sym_{n}^{+})$ is the $S_{n}$-coinvariant ring.  
%Case (2) is less well know: it uses a relationship between $\Sym_{n}$ and the Gr\"{o}bner theory of the vanishing ideal $I(S_{n})$ which we will describe below.

%This paper is motivated by the coincidence of three representations of the symmetric group:
%\begin{enumerate}[itemsep = 1ex]
%\item the left regular representation of $S_{n}$, 
%
%\item the coinvariant ring for the action of $S_{n}$ on the polynomial ring $R_{n} = \QQ[x_{1}, \ldots, x_{n}]$, and
%
%\item the coordinate ring $R_{n} / I(S_{n})$ for the vertices of the regular permutohedron in $\QQ^{n}$, which are the points $(\sigma_{1}, \ldots, \sigma_{n})$ for each $\sigma \in S_{n}$.%: $(\sigma_{1}, \ldots, \sigma_{n}) \in $
%
%\end{enumerate}
%The isomorphism between (1) and (2) is a famous case of Chevalley's coinvariant theorem (see e.g.~\cite{Humphrey}): the $S_{n}$-invariants of $R_{n}$ are the symmetric polynomials $\Sym_{n} \subseteq R_{n}$, and the coinvariant ring is the quotient $R_{n}/(\Sym_{n}^{+})$ by the positive degree elements of $\Sym_{n}$.  
%The isomorphism to (3) uses a relationship between $\Sym_{n}$ and the Gr\"{o}bner theory of the vanishing ideal $I(S_{n})$; this is less well-known and we give more details below.

Quasisymmetric functions originate in the work of Stanley~\cite{StanleyQSym}, where they appear as enumeration series for $P$-partitions.  
Later, Gessel~\cite{Gessel} gave a more algebraic treatment of the ring $\QSym$ spanned by all quasisymmetric functions, establishing a beautiful analogy with the classical ring of symmetric functions $\Sym$. 
The importance of $\QSym$ has continuted to increase: in recent years quasisymmetric functions have been at the center of several research programs, and~\cite{ABS} establishes $\QSym$ as a universal setting for enumerative combinatorial invariants.  For example see~\cite{Grinberg,LMvW, Mason}, all references therein, and much more.

There is also a striking similarity between quasisymmetric functions and the invariant theory of finite reflections groups.  
Chevalley's theorem (see e.g.~\cite{Humphrey}) states that each finite reflection group $W$ acts naturally on a polynomial ring $R$, and the quotient of $R$ by the ideal $\langle R_{+}^{W} \rangle$ generated by positive degree invariants is isomorphic to the regular module of $W$.  
Similarly, the quasisymmetric polynomials $\QSym_{n}$ in $R_{n} = \QQ[x_{1}, \ldots, x_{n}]$ are the invariants of an action of  Temperley--Lieb algebra $\TL_{n}(2)$ on $R_{n}$  introduced by Hivert~\cite{Hivert}.  
Writing $\langle \QSym_{n}^{+} \rangle$
for ideal generated by the positive degree quasisymmetric polynomials,~\cite{AB,ABB} show that the dimension of the coinvariant space $R_{n}/\langle \QSym_{n}^{+} \rangle$ and $\TL_{n}(2)$ agree: both are the $n$th Catalan number $C_{n}$.  
Since $\TL_{n}(2)$ shares many nice properties with reflection groups, one might expect a Chevalley-type theorem from this coincidence, but there is no obvious $\TL_{n}(2)$-action on $R_{n}/\langle \QSym_{n}^{+} \rangle$:  Hivert's action is not multiplicative and $\langle \QSym_{n}^{+} \rangle$ is not a $\TL_{n}(2)$-submodule.  

Motivated by the discussion above, we revisit two modules which afford the left regular representation of the symmetric group $S_{n}$:
\begin{enumerate}[itemsep = 1ex]
\item the quotient $R_{n}/\langle \Sym_{n}^{+} \rangle$ of the polynomial ring $R_{n} = \QQ[x_{1}, \ldots, x_{n}]$ by the ideal generated by positive-degree symmetric polynomials $\Sym_{n}^{+}$, and

\item the coordinate ring $R_{n} / \mathbf{I}(S_{n})$ for the vertices of the regular permutohedron in $\QQ^{n}$, which are the points $(\sigma_{1}, \ldots, \sigma_{n})$ for each $\sigma \in S_{n}$.%: $(\sigma_{1}, \ldots, \sigma_{n}) \in $

\end{enumerate}
Module (1) is a famous case of Chevalley's theorem: the $S_{n}$-invariants of $R_{n}$ are the symmetric polynomials, and $R_{n}/\langle \Sym_{n}^{+} \rangle$ is the $S_{n}$ coinvariant ring.  
On the other hand, module (2) comes from the left multiplicative action of $S_{n}$ on the permutahedron realized on the coordinate ring $R_{n} / \mathbf{I}(S_{n})$  where $\mathbf{I}(S_{n})$ is the vanishing ideal. 
However, as seen in the work of Garsia and Procesi~\cite{GP} and reference therein, a careful inspection reveals that these modules determine one another!  
Consider the ideal
\[
I' = \langle f(x_{1}, \ldots, x_{n}) - f(1, \ldots, n) \;|\; f \in \Sym_{n}^{+} \rangle \subseteq \mathbf{I}(S_{n}).
\]
For each $f \in R_{n}$, let $\mathsf{h}(f)$ denote the top-degree homogeneous component of $f$, for any ideal $I$ in $R_{n}$ write $\mathsf{gr}(I) = \langle \mathsf{h}(f) \;|\; f \in I \rangle$.  
Then $\mathsf{gr}(I') \supseteq \langle \Sym_{n}^{+} \rangle$, and Gr\"{o}bner basis theory (see e.g~\cite{CLO}) gives a linear isomorphism $R_{n}/\mathsf{gr}(I')  \cong R_{n}/I'$.  We therefore have
\[
|S_{n}| = \dim\big(R_{n}/\langle \Sym_{n}^{+} \rangle\big) \ge \dim\big(R_{n}/\mathsf{gr}(I')\big) = \dim\big(R_{n}/I') \ge \dim(R_{n}/\mathbf{I}(S_{n})\big) = |S_{n}|,
\]
so that $I' = \mathbf{I}(S_{n})$ and $\mathsf{gr}(I') = \langle \Sym_{n}^{+} \rangle$, and the above linear isomorphism becomes $R_{n}/\langle \Sym_{n}^{+} \rangle \cong R_{n}/\mathbf{I}(S_{n})$.  
This isomorphism can be lifted to the level of $S_{n}$-modules: both $\mathbf{I}(S_{n})$ and $\langle \Sym_{n}^{+} \rangle$ are invariant under the standard action of $S_{n}$ on $R_{n}$, which coindices with the action on points for $R_{n}/\mathbf{I}(S_{n})$.  
Thus, we have an $S_{n}$-module isomorphism $R_{n}/\langle \Sym_{n}^{+} \rangle \cong R_{n}/\mathbf{I}(S_{n})$.  The left hand side is graded, the right hand side is not.

In the present paper, we attempt to apply some of the ideas presented to quasisymmetric functions and Temperley--Lieb algebras. 
It is known  that $\langle \Sym_{n}^{+} \rangle \subseteq \langle \QSym_{n}^{+} \rangle$, and that there is a surjective algebra homomorphism $\phi: \CC S_{n} \to \TL_{n}(2)$. 
Guided by these relationships, we search for a subset $\QSV_{n} \subseteq S_{n} \subseteq \QQ^{n}$ which satisfies:
\begin{enumerate}[itemsep = 1ex, label=(\roman*)]
\item $|\QSV_{n}| = C_{n}$,

\item the image $\phi(\QSV_{n})$ is a basis of $\TL_{n}(2)$, and

\item considering the vanishing ideal $\mathbf{I}(\QSV_{n})$, we have $\mathsf{gr}\big(\mathbf{I}(\QSV_{n})\big) = \langle \QSym_{n}^{+} \rangle$.

\end{enumerate}
Assuming such a set exists, one can define an action of $\TL_{n}(2)$ on the space $R_{n}/\langle \QSym_{n}^{+} \rangle$ using Gr\"{o}bner basis theory and the multiplication constants for the basis obtained from $\QSV_{n}$.  
However, $\QSV_{n}$ is not readily found: it took several years of computer exploration to find a list of potential candidates for small $n$.  
We have now found it, along with a number of remarkable properties that should be of interest to the wider community.

The set $\QSV_{n} \subseteq S_{n}$ is defined in Section~\ref{sec:QSV}.  
After our initial discovery, we realized that the cycle structure of these permutations naturally determine a noncrossing partition, fitting into a larger story about the combinatorics of noncrossing partitions and $S_{n}$~\cite{Baine} (see also~\cite{McCammond}).  
For example, writing $Q_{\lambda}$ to denote the element of $\QSV_{n}$ indexed by the partition $\lambda$,
\[
\lambda = \begin{tikzpicture}[scale = 0.75, baseline = 0.75*-0.2]
\foreach \x in {1, ..., 7}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {5/6, 3/5,2/7}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}
\qquad\text{corresponds to}\qquad
Q_{\lambda} = (1)(72)(653)(4).
\]
Through this connection,~\cite{GobetWilliams} and ~\cite{Zinno} have studied bases of general Temperley--Lieb algebras which are equivalent to $\phi(\QSV_{n})$ for $\TL_{n}(2)$, so only condition (iii) remains.

Our initial attempts to prove condition (ii) led to an exciting discovery about how $\QSV_{n}$ sits in $S_{n}$, however.  
In Section~\ref{sec:excedance} we define an equivalence relation $\sim$ on $S_{n}$ using the weak excedance set of a permutation and its inverse.  
We call the equivalence classes of $S_{n}/\!\!\sim$ \emph{excedance classes}, and show that each noncrossing partition $\lambda$ bijectively determines an excedance class $\CCC_{\lambda}$.  
Surprisingly, the Bruhat order induces a well-defined quotient order on excedance classes.  
In the following, $\preceq$ denotes the order on noncrossing partitions which is dual to Young's lattics, described further in Section~\ref{sec:bruhatballot}.

\begin{introthm}{\ref{thm:excedancequotient}}
Writing $\le$ for the partial order on excedance classes $S_{n}/\!\! \sim$ induced by the Bruhat order, $\CCC_{\lambda} \le \CCC_{\mu}$ if and only if $\lambda \preceq \mu$.
\end{introthm}

A similar result is given by~\cite{GobetWilliams} for the set $\QSV_{n}$ as a sub-poset of the Bruhat order (see Section~\ref{sec:bruhatballot}), which simplifies our proof of Theorem~\ref{thm:excedancequotient}.  This leads to a kind of duality between these sub- and quotient orders of the Bruhat poset.

\begin{introcor}{\ref{cor:interval}}
Each excedance class $\CCC_{\lambda}$ is an interval in the Bruhat order, with upper bound $Q_{\lambda}\in \QSV_n$ and lower bound given by a $321$-avoiding permutation
\end{introcor}

The combinatorics of excedance classes seems to be very rich, and there is much left to explore.   
For example, in Section~\ref{sec:weakorder} we describe a weak order on noncrossing partitions using excedance classes, but the combinatorics of this order are still fairly mysterious.  

In Section~\ref{sec:TLbasis}, we use excedance classes of $S_{n}$ to explore bases of $\TL_{n}(2)$.  Using results of~\cite{GobetWilliams} and~\cite{Zinno}, our Theorem~\ref{thm:TLbasis} restates the fact that $\QSV_{n}$ satisfies condition (ii) above.  However, we also prove more general (and novel) theorem about bases of $\TL_{n}(2)$ coming from the surjection $\phi: \CC S_{n} \to \TL_{n}(2)$.

\begin{introthm}{\ref{thm:TLbases}}
Let $n \ge 0$ and for each noncrossing partition $\lambda$ of size $n$, fix an element $w_{\lambda} \in \CCC_{\lambda}$. Then the set $\{\phi(w_{\lambda}) \;|\; \text{noncrossing partitions $\lambda$}\}$ is a basis of $\TL_{n}(2)$.
\end{introthm}

Finally, in Section~\ref{sec:QSymvanish} we show that the set $\QSV_{n}$ satisfies condition (iii) above.  
The space of positive-degree quasisymmetric polynomials $\QSym_{n}$ has a homogeneous basis of monomial quasisymmetric functions $M_{\alpha}$ indexed by the compositions $\alpha \vDash d$ of a positive integer $d > 0$ with length $\ell(\alpha) \le n$.  
For each such composition $\alpha$, we construct a nonhomogeneous polynomial $P_{\alpha} \in R_{n}$ for which $\mathsf{h}(P_{\alpha}) = M_{\alpha}$ and show the following.

\begin{introthm}{\ref{thm:vanishingQSV}}
The ideal $\langle P_{\alpha} \;|\; \text{$\alpha \vDash d $ with $d> 0$ and $\ell(\alpha) \le n$} \rangle \subseteq R_n$ is the vanishing ideal $\mathbf{I}(\QSV_n)$ and 
\[
 \langle \QSym_{n}^{+} \rangle = \mathsf{gr}\big(\mathbf{I}(\QSV_{n})\big).
\]
%The ideal $(P_{\alpha} \;|\; \text{$\alpha \vDash d $ with $d> 0$ and $\ell(\alpha) \le n$})$ is exactly $\mathbf{I}(\QSV_{n})$.
\end{introthm}

From this, we obtain a linear isomorphism
\[
R_{n}/\mathbf{I}(\QSV_{n}) \cong R_{n}/\langle \QSym_{n}^{+} \rangle.
\]
Future work will explore the module structure on $R_{n}/\langle \QSym_{n}^{+} \rangle$ implicit in this result.


%\newpage
%Quasisymmetric functions where introduced by Stanley in~\cite{StanleyQSym} as enumeration series for $P$-partitions.
%Gessel~\cite{Gessel} later studied the space of quasisymmetric functions $QSym$ and developed more their algebraic side. In recent year, they have been the focus of several 
%research groups and as demonstrated in~\cite{ABS}, quasisymmetric function play a central role in enumeration, as they naturally encode
%combinatorial invariants. 
%
%One striking fact from~\cite{AB,ABB} about quasisymetric polynomial in $n$ variables, is that the quotient  the polynomial rind $R_n=\QQ[x_1,x_2,\ldots,x_n]$
%by the ideal $J_n$ generated by quasisymetric polynomial with no constant term, is a space of dimension $C_n$ the Catalan number.
%Moreover, the quasisymmetric polynomial can be seen as the Temperley-Lieb algebra invariants under the Hivert action~\cite{Hivert}.
%The interesting fact here is that the Temperley-Lieb algebra $\TL_n(2)$ is also an algebra of dimension $C_n$. This is very reminiscent of the invariant/coinvariant theory
%of reflection groups~\cite{Humphrey}. One of the missing ingredient is that even though the quotient $R_n/J_n$ has dimension $C_n$, we cannot identify it
%as the left regular representation of $\TL_n$. The problem here is that the Hivert action is not multiplicative and the ideal $J_n$ is not invariant.
%
%For the symmetric group, one way to show that the quotient of $R_n$ byt the symmetric group invariants, the symmetric polynomials $Sym_n\subseteq R_n$,
%is to use the standard permutahedron. Consider the symmetric group $S_n$ as points in $\QQ^n$. That is, a permutation $\sigma$ gives us a point $(\sigma_1,\sigma_2\ldots,\sigma_n)\in \QQ^n$.
%It is not hard to see that the polynomial $f(x_1,x_1,\ldots,x_n)-f(1,2,\ldots,n)$ vanishes at all $\sigma\in S_n$ if $f\in Sym_n$. Let $IS_n\subseteq R_n$ denote the vanishing ideal of the variety of
%points $S_n\subseteq \QQ^n$. We clearly see that the ideal
%	$$ IS'_n =\langle f(x_1,x_1,\ldots,x_n)-f(1,2,\ldots,n) : f\in Sym_n\rangle  \subseteq IS_n \,.$$
%Let $JS_n=\langle Sym^+\rangle\subseteq R_n$ be the ideal generated by symmetric polynomial with no constant term. It is well known that $\dim(R_n/JS_n)=n!$.
%To relate $JS_n$ to $IS_n$, remark that $JS_n\subseteq gr(IS'_n)=\langle h(f) : f\in IS'_n\rangle$ where $h(f)$ denote the top degree homogeneous component of $f$.
%The last ingredient is that $\dim\big(R_n/gr(IS'_n)\big) = \dim(R_n/IS'_n)$ since using graded-lex monomial order, we have that the initial ideal of $IS_n$ is the same as the initial ideal of 
%$gr(IS_n)$. For this, see~\cite{CLO} and remark that the leading term ideal in both cases is the same. Putoing all this together, we obtain
%  $$n!=\dim(R_n/JS_n) \ge \dim\big(R_n/gr(IS'_n)\big)= \dim(R_n/IS'_n)\ge  \dim(R_n/IS_n) =n!\,,$$
%where the last equality follows from the fact that $IS_n$ is the vanishing ideal of a variety of points $S_n$ of cardinality $|S_n|=n!$. Therefor, we have equality everywhere and this gives us that 
%$IS'_n=IS_n$ and $JS_n=gr(IS_n)$. This gives us the linear isomorphism $R_n/JS_n\cong R_n/IS_n$, but since both ideal $JS_n$ and $IS_n$ are invariant under the action of the symmetric group $S_n$
%we have that the isomorphism can be lift to a $S_n$-module isomorphism. It is clear that the action of $S_n$ on the points $S_n$ is the left regular representation, we can deduce that 
%the action of $S_n$ on $R_n/JS_n$ is the left regular representation.
%
%In the present paper, we want to replicate some of the ideas presented above in order to push the argument as far as possible. It is well known that $Sym_n \subseteq QSym_n$.
%From this fact we have that the ideal $J_n$ generated by quasisymmetric function without constant term is included is $JS_n$. From this,
%we look for a set of points $\QSV_n\subseteq S_n\subseteq \QQ^n$ such that the vanishing ideal $I_n$ of $\QSV_n$ is such that $I_n\supseteq IS_n$.
%We want the set $\QSV_n\subseteq S_n$ to satisfies the following properties:
%\begin{itemize}
%\item $|QSV_n|=C_n$,
%\item $\QSV_n$ is a basis of $\TL_n$,
%\item $gr(I_n)=J_n$.
%\end{itemize}
%It is not obvious to find such set and required several years of computer exploration just to find possible candidate for small $n$.
%We have found such a set, and in the course of our exploration we have found several stunning properties that should be of interest for the general community.
%
%The set $\QSV_n$ is defined in Section~\ref{sec:QSV}. It is naturally indexed by noncrossing partitions and it is quite interesting that it was also previously studied by \cite{GobetWilliams} and \cite{Zinno}.
%Our description is slightly different and we exploit the notion of equivalence classes of excedances. In Section~\ref{sec:excedance} we show that the excedance classes partition the Bruhat order in intervals
%that are compatible with the order. We can therefor define a quotient order $S_n/\!\!\sim$ of the Bruhat order. In Theorem~\ref{thm:excedancequotient} we identify precisely what this quotient order is
%in term of non-crossing partitions $\lambda$ and $\mu$:
%\begin{center}
%{\sl 
%Writing $\le$ for the partial order on excedance classes $S_{n}/\!\!\sim$ \\
%induced by the Bruhat order, $\CCC_{\lambda} \le \CCC_{\mu}$ if and only if $\lambda \preceq \mu$.}
%\end{center}
%where $\preceq$ denote the lattice order on noncrossing partition dual to the Young lattice of integer partition bellow the staircase.
%A similar result was discovered in \cite{GobetWilliams} as a suborder (see Section~\ref{sec:bruhatballot}), but not as quotient.
%The advantage of having a quotient of the Bruhat order is that we can now define a (left) weak order on non-crossing partition
%and this is done in Section~\ref{sec:weakorder}. One extraordinary property of the excedance classes $C_\lambda$ is described
%in Corollary~\ref{cor:interval}:
%\begin{center}
%{\sl 
%Each excedance class $\CCC_{\lambda}$ is an interval in the Bruhat order, with upper bound\\
% $Q_{\lambda}\in \QSV_n$ and lower bound given by a $321$-avoiding permutation.}
%\end{center}

%In Section~\ref{sec:TLbasis} we turn to explore basis of $\TL_n$. A result of \cite{GobetWilliams} and \cite{Zinno} shows our Theorem~\ref{thm:TLbasis} stating that $\QSV_n$ is a basis of $\TL_n$ as we wanted above.
%We actually show a much more general theorem that produce several bases of $\TL_n$ using single permutations. This is stated as Theorem~\ref{thm:TLbases}:
%\begin{center}
%{\sl 
%Let $n \ge 0$ and for each $\lambda \in \NCP_{n}$, fix an element $w_{\lambda} \in \CCC_{\lambda}$.  \\
%Then the set 
%$\{\phi(w_{\lambda}) \;|\; \lambda \in \NCP_{n}\}$ is a basis of $\TL_{n}(2)$.
%}\end{center}
%Here $ \NCP_{n}$ is the set of noncrossing partitions on $n$ and $\phi\colon S_n\to \TL_n$ is the natural surjection given in Section~\ref{sec:TLbasis}.
%
%In Section~\ref{sec:QSymvanish} we give a family of polynomial $P_\alpha$ that vanishes on $\QSV_n$ such that $h(P_\alpha)\in QSym_n$.
%Then in Section~\ref{sec:finalthm} we show our Theorem~\ref{thm:vanishingQSV}:
%\begin{center}
%{\sl 
% The Ideal $I_n=\langle P_\alpha : \alpha\models d>1\rangle\subseteq R_n$ is the vanishing ideal of $\QSV_n$.
% }\end{center}
% In particular
% 	$$R_n/I_n \cong R_n/J_n$$
%as vector spaces.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Preliminaries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

In this section we will recall some definitions and preliminary results about noncrossing partitions (Section~\ref{sec:ncp}) and partial orders on the symmetric group (Section~\ref{sec:bruhat}).

%%%%%%%%%%
\subsection{Noncrossing partitions}
\label{sec:ncp}
%%%%%%%%%%

Let $n$ be a nonnegative integer.  A \emph{noncrossing partition} of size $n$ is a diagram $\lambda$ consisting of:
\begin{enumerate}
\item the positive integers $1, \ldots, n$, placed from left to right along a horizontal axis; and

\item a set of left-to-right arcs $\edge{i}{j} = (i, j)$, $i < j$ drawn above the axis with no intersections or coterminal points: $\lambda$ contains no pair $\edge{i}{k}, \edge{j}{l}$ with $i \le j < k \le l$.

\end{enumerate}
For example,
\begin{equation}
\label{eq:noncrossingpartitionexample}
\lambda = \begin{tikzpicture}[scale = 0.75, baseline = 0.75*-0.2]
\foreach \x in {1, ..., 7}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
%\foreach \x in {1, ..., 7}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {5/6, 3/5,2/7}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}
\end{equation}
is a noncrossing partition of size $7$ containing three arcs: $\edge{2}{7}$, $\edge{3}{5}$, and $\edge{5}{6}$.

Considering a noncrossing partition $\lambda$ as an (undirected) graph, the connected components of $\lambda$ give a partition of the set $[n] = \{1, \ldots, n\}$, which is the origin of the term.  For example, the noncrossing partition shown in Equation~\eqref{eq:noncrossingpartitionexample} corresponds to the set partition $\{ \{1\}, \{2, 7\}, \{3, 5, 6\}, \{4\}  \}$.  Let
\[
\NCP_{n} = \{ \text{noncrossing partitions of size $n$} \}.
\]
The number of noncrossing partitions of size $n$ is the $n$th Catalan number, $C_{n} = \frac{1}{n+1}\binom{2n}{n}$~\cite[Exercise 6.19 pp]{Stanley}.

Given an arc $ \edge{i}{j} \in \lambda$, say that $i$ is the \emph{left endpoint} and $j$ is the \emph{right endpoint}, and let
\[
\lambda^{+} = \{ i \in [n] \;|\; \text{$i$ is a left endpoint in $\lambda$} \}
\]
and
\[
\lambda^{-} = \{ i \in [n] \;|\; \text{$i$ is a right endpoint in $\lambda$} \}
\]
For example, with the noncrossing partition $\lambda$ in~\eqref{eq:noncrossingpartitionexample}, $\lambda^{+} = \{2, 3, 5\}$ and $\lambda^{-} = \{5, 6, 7\}$.  The arcs in $\lambda$ give a bijection between the sets $\lambda^{+}$ and $\lambda^{-}$, so that
\[
|\lambda^{+}| = |\lambda^{-}|.
\]

The following lemma is classic in the literature about non-crossing partitions (for example, see~\cite{Stanley}). 
As it plays an important role in our main construction, we have included a proof for the sake of exposition.
%Each noncrossing partition $\lambda$ is uniquely determined by its sets $\lambda^{+}$ and $\lambda^{-}$ of left and right neighbors.
\begin{lem}
\label{lem:noncrossingpartitionproperty}
Each noncrossing partition $\lambda$ of size $n$ is uniquely determined by the sets $\lambda^{+}$ and $\lambda^{-}$.  Moreover, given two subsets $L$ and $R$ of $[n]$ with equal size, the inequalities
\[
|[k-1] \cap L| \ge |[k] \cap R| \qquad\text{for all $k \ge 1$}
\]
hold if and only if we have $L = \lambda^{+}$ and $R = \lambda^{-}$ for some noncrossing partition $\lambda$ of size $n$.
\end{lem}
\begin{proof}
Given $L$ and $R$, draw the elements of $[n]$ along the horizontal axis, increasing from left to right, and draw a half-arc starting at each vertex in $L$ and and half-arc ending at each vertex in $R$.  For example, with $n = 8$, $L = \{2, 4, 7\}$, and $R = \{5, 6, 8\}$, the resulting diagram is
\[
\begin{tikzpicture}[scale = 0.75, baseline = 0.75*-0.2]
\foreach \x in {1, ..., 8}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 8}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {2/6, 4/5, 7/8}{
	\draw[thick, -latex] (\i) to[out = 35, in = 215] ($ (\i) + (0.4, 0.3) $);
	\draw[thick, -latex] ($ (\j) + (-0.4, 0.3) $) to[out = -35, in = 145] (\j);}
\end{tikzpicture}.
\]
These half-arcs determine a unique noncrossing partition, which can be obtained by recursively connecting pairs of half-edges which have no incomplete edges between them. 
This is essentially the same process as matching open and closed parenthesis, the only difference being that our half-edges sit in prescribed positions.  
The assumed condition on the sets $L$ and $R$ ensures that each ending half-arc in $R$ will have a starting half arc to match with.  
The noncrossing condition follows from our choice of connections: a crossing would imply some connection was made between half-edges with an incomplete edge between them.  
Continuing the preceding example, this algorithm successively gives the diagrams
\[
\begin{tikzpicture}[scale = 0.75, baseline = 0.75*-0.2]
\foreach \x in {1, ..., 8}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 8}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {2/6}{
	\draw[thick, -latex] (\i) to[out = 35, in = 215] ($ (\i) + (0.4, 0.3) $);
	\draw[thick, -latex] ($ (\j) + (-0.4, 0.3) $) to[out = -35, in = 145] (\j);}
\foreach \i\j in {4/5, 7/8}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}
\qquad\text{and then}\qquad
\begin{tikzpicture}[scale = 0.75, baseline = 0.75*-0.2]
\foreach \x in {1, ..., 8}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 8}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {2/6, 4/5, 7/8}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}.
\]

For the converse, if $L = \lambda^{+}$ and $R = \lambda^{-}$ for a nonnesting partition $\lambda$, the given inequalities must hold: the left endpoint of each arc must be strictly less than the right endpoint.
\end{proof}

%%%%%%%%%%
\subsection{Permutations and the Bruhat order}
\label{sec:bruhat}
%%%%%%%%%%

Let $S_n$ denote the group of permutations of $[n]$.  We represent elements of $S_{n}$ either by using the standard one- and two-line notations or as a product of cycles.  We write $\ell$ for the length function on $S_{n}$, so that $\ell(w)$ counts the minimal number of factors needed to express $w \in S_{n}$ as a product of simple transpositions $(i\, i+1)$, as in
\[
w = (i_{1}\, i_{1} + 1)(i_{2}\, i_{2}+1) \cdots (i_{\ell(w)}\, i_{\ell(w)} + 1).
\]

The \emph{Bruhat order} on $S_{n}$ is the partial order generated by the covering relation
\[
v \lessdot w \qquad\text{if and only if} \qquad \text{$wv^{-1}$ is any transposition $(i\,j)$ and $\ell(v) +1 = \ell(w)$}.
\]
This order is ubiquitous in the study of $S_{n}$ and related objects (for examples, see the book~\cite{BjornerBrenti}).

It is difficult to study the Bruhat order using only covering relations, so we will use the so-called \emph{tableau criterion} to determine its other relations.  For $w \in S_{n}$ and $1 \le k \le n$, let $\TTT_{k}(w)$ be the increasing re-arrangement of the set $\{w_{1}, w_{2}, \ldots, w_{k}\}$, and let $\TTT(w)$ be the array with rows $\TTT_{n}(w)$, $\TTT_{n-1}(w)$, and on to $\TTT_{1}(w)$.  For example, $\TTT_{4}(52314) = 1\,2\,3\,5$, and
\[
\TTT(52314) = 
\begin{array}{ccccc} 
1 & 2 & 3 & 4 & 5 \\ 
1 & 2 & 3 & 5 \\ 
2 & 3 & 5 \\ 
2 & 5 \\ 
5
\end{array}
\qquad\text{and}\qquad
\TTT(41235) = \begin{array}{ccccc} 
1 & 2 & 3 & 4 & 5 \\ 
1 & 2 & 3 & 4 \\ 
1 & 2 & 4 \\ 
1 & 4 \\ 
4
\end{array}.
\]

\begin{prop}[{\cite[Theorem 2.6.3]{BjornerBrenti}}]
\label{TableauCriterion}
For $v, w \in S_{n}$, we have $v \le w$  if and only if each entry of $\TTT(v)$ is less than or equal to to corresponding entry of $\TTT(w)$.
\end{prop}

For example, by considering the diagrams $\TTT(52314)$ and $\TTT(41235)$ shown above, the tableau criterion allows us to deduce that $52314 \le 41235$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{The set $\QSV_{n}$}
\label{sec:QSV}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

In this section we define the set $\QSV_{n} \subseteq S_n$ and establish its elementary properties.  Our treatment is essentially the standard on in the literature on noncrossing partitions and is originally due to~\cite{Baine}.  In Section~\ref{sec:bruhatballot}, we turn to the restriction of the Bruhat order to $\QSV_{n}$ and recall the combinatorial description of this order from~\cite{GobetWilliams}. 

Let $\lambda$ be a noncrossing partition of size $n$ and recall the sets $\lambda^{+}$ and $\lambda^{-}$ from Section~\ref{sec:ncp}.  
%, and write each part of $\lambda$ as 
%\[
%\lambda_{r} = \{c_{r, 1} < c_{r, 2} < \dots < c_{r, |\lambda_{r}|}\}.
%\]
Define a permutation $Q_{\lambda} \in S_{n}$ by 
%the product of disjoint cycles:
%\[
%Q_{\lambda} = \prod_{\lambda_{r} \in \lambda} (c_{r, 1} c_{r, 2} \dots c_{r, |\lambda_{r}|}).
%\]
%Since the parts of $\lambda$ are disjoint, the above product can be taken in any order.  The permutation $Q_{\lambda}$ can also be described using the noncrossing partition diagram of $\lambda$: 
\[
Q_{\lambda}(j) = \begin{cases} i & \text{if $j \in \lambda^{-}$ and $ \edge{i}{j} \in \lambda$} \\
k & \text{if $j \notin \lambda^{-}$ and $k$ is the largest element connected to $i$ in $\lambda$}
\end{cases}
\]
Thus, $Q_{\lambda}$ sends each $j \in [n]$ to its leftward neighbor in $\lambda$, if such a neighbor exists, and otherwise sends $j$ to the rightmost element of its connected component.  

Let
\[
\QSV_{n} = \{Q_{\lambda} \;|\; \lambda \in \NCP_{n} \}.
\]
For example, the elements of $\QSV_{3}$ are:
\[
Q_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = 321, \qquad
Q_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/2, 2/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = 312, \qquad
Q_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/2}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = 213, 
\]
\[
Q_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {2/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = 132, \qquad\text{and}\qquad
Q_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
%\foreach \i\j in {2/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = 123.
\]
%The following well-known characterization of $\QSV_{n}$ will be used in Section~\ref{}.%; a proof is included for compelteness.

\begin{lem}
\label{lem:QSVcycles}

Let $\lambda$ be a noncrossing partition of size $n$ with connected components $C_{1}, C_{2}, \ldots, C_{s}$, and for $1 \le r \le s$ enumerate $C_{r}$ in increasing order as $\{c_{r, 1} < c_{r, 2} < \cdots < c_{r, |C_{r}|}\}$. 
We then have the disjoint cycle decomposition
\[
Q_{\lambda} = \prod_{r = 1}^{s} (c_{r, 1} c_{r, |C_{r}|} \cdots c_{r, 2}).
\]
\end{lem}
\begin{proof}
The statement follows from the definition of $Q_{\lambda}$ above: $[n] \setminus \lambda^{-} = \{c_{r, 1} \;|\; 1 \le r \le s\}$, so $Q_{\lambda}(c_{r, 1}) =  c_{r, |C_{r}|}$ for each $r$, and for $1 < i \le |C_{r}|$, we have $c_{r, i} = c_{r, i-1}$.
\end{proof}

For example, when $\lambda$ has a single connected component, $Q_{\lambda}$ is a single cycle: with
\[
\lambda = \begin{tikzpicture}[scale = 0.75, baseline = 0.75*-0.2]
\foreach \x in {1, ..., 7}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/2, 2/3, 3/4, 4/5, 5/6, 6/7}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}
\qquad\text{we have}\qquad
Q_{\lambda} = (1765432) = 7123456.
%\stackrel{1}{7} \stackrel{2}{1} \stackrel{3}{2} \stackrel{4}{3} \stackrel5{4} \stackrel{6}{5} \stackrel{7}{6}
\]
Considering the noncrossing partition shown in Equation~\eqref{eq:noncrossingpartitionexample} gives a more complicated example: with
\[
\lambda = \begin{tikzpicture}[scale = 0.75, baseline = 0.75*-0.2]
\foreach \x in {1, ..., 7}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {5/6, 3/5,2/7}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}
\qquad\text{we have}\qquad
Q_{\lambda} = (1)(27)(365)(4) = 1764352.
%\stackrel{1}{1} \stackrel{2}{7} \stackrel{3}{6} \stackrel{4}{4} \stackrel{5}{3} \stackrel{6}{5} \stackrel{7}{2}.
\]

\begin{rem}
\label{rem:QSVnoncrossing}
%The set $\QSV_{n}$ is a particular case of a more general phenomenon involving non-crossing partitions and permutations.  
Given any $n$-cycle $c \in S_{n}$,~\cite{Baine} gives a bijection between $\NCP_{n}$ and the interval between the identity and $c$ in the absolute order on $S_{n}$.  Our construction of $\QSV_{n}$ realizes this bijection for the $n$-cycle $c = (1n\cdots 2)$.  
\end{rem}

%%%%%%%%%%%%%%%
\subsection{The Bruhat order on $\QSV_{n}$}
\label{sec:bruhatballot}
%%%%%%%%%%%%%%%

The Bruhat order on $S_{n}$ described in Section~\ref{sec:bruhat} restricts to a partial order on the set $\QSV_{n}$.
This order turns out to be very natural, as is described in the paper~\cite{GobetWilliams}, and in this section we recall the description for use in later sections.

Define a partial order $\preceq$ on the set $\NCP_{n}$ of noncrossing partitions as the extension of the covering relation: $\lambda$ is covered by $\mu$ if and only if $\lambda$ is obtained from $\mu$ in one of the following ways:
\begin{enumerate}
\item removing an arc of the form $ \edge{i}{i+1}$ from $\mu$, or

\item replacing any arc $ \edge{i}{k}$ in $\mu$ with two arcs $ \edge{i}{j}$ and $ \edge{j}{k}$ for some $i < j < k$ which do not intersect or share a left or right endpoint with any other arc in $\mu$.

\end{enumerate}

It is difficult to describe the non-covering relations of $\preceq$ on $\NCP_{n}$---and of the Bruhat order on $\QSV_{n}$---in a direct and intuitive manner.  Instead, these relations are best understood through an intermediary object.  A \emph{ballot sequence} of length $2n$ is a sequence $b \in \{\pm1\}^{2n}$ for which each partial sum of $b$ is nonnegative and the final sum is $0$.  A well-known bijection between noncrossing partitions is used in~\cite[Section~5.1]{GobetWilliams}: for $\lambda \in \NCP_{n}$ define a ballot sequence $b^{\lambda} = (b^{\lambda}_{1}, b^{\lambda}_{2}, \ldots, b^{\lambda}_{2n})$  by
\[
b^{\lambda}_{2 k - 1} = \begin{cases} 1 & \text{if $k \notin \lambda^{-}$} \\ -1 & \text{if $k \in \lambda^{-}$} \end{cases}
\qquad
\text{and}
\qquad
b^{\lambda}_{2 k} = \begin{cases} 1 & \text{if $k \in \lambda^{+}$} \\ -1 & \text{if $k \notin \lambda^{+}$} \end{cases}
\]
for each $1 \le k \le n$.

\begin{prop}[{\cite[Theorem 1.1 and Corollary 7.5]{GobetWilliams}}]
\label{prop:QSVorderbijection}
Let $\lambda$ and $\mu$ be noncrossing partitions of size $n$.  The following are equivalent:
\begin{enumerate}
\item $\lambda \preceq \mu$, 

\item $Q_{\lambda} \le Q_{\mu}$ in the Bruhat order, and

\item for all $1 \le k \le 2n$, $\sum_{i = 1}^{k} b^{\lambda}_{k} \le \sum_{i = 1}^{k} b^{\mu}_{k}$.

\end{enumerate}
\end{prop}

For $n = 3$ the (isomorphic) orders on $\QSV_{n}$, $\NCP_{n}$, and ballot sequences are shown in Figure~\ref{fig:Hassediagrams}.

\begin{figure}
\begin{center}
\begin{tikzpicture}
\node at (0, 4.5) (13b2) {$321$};
\node at (0, 3) (123) {$312$};
\node at (1.5, 1.5) (1b23) {$132$};
\node at (-1.5, 1.5) (12b3) {$213$};
\node at (0, 0) (1b2b3) {$123$};
\draw[thick] (1b2b3) -- (1b23);
\draw[thick] (1b2b3) -- (12b3);
\draw[thick] (1b23) -- (123);
\draw[thick] (12b3) -- (123);
\draw[thick] (123) -- (13b2);
\end{tikzpicture}
\hspace{0.75cm}
\begin{tikzpicture}
\node at (0, 4.5) (13b2) {\tikz[scale = 0.75, baseline = 0.75*-0.2]{
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}}};
\node at (0, 3) (123) {\tikz[scale = 0.75, baseline = 0.75*-0.2]{
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/2, 2/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}}};
\node at (1.5, 1.5) (1b23) {\tikz[scale = 0.75, baseline = 0.75*-0.2]{
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {2/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}}};
\node at (-1.5, 1.5) (12b3) {\tikz[scale = 0.75, baseline = 0.75*-0.2]{
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/2}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}}};
\node at (0, 0) (1b2b3) {\tikz[scale = 0.75, baseline = 0.75*-0.2]{
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}}};
\draw[thick] (1b2b3) -- (1b23);
\draw[thick] (1b2b3) -- (12b3);
\draw[thick] (1b23) -- (123);
\draw[thick] (12b3) -- (123);
\draw[thick] (123) -- (13b2);
\end{tikzpicture}
\hspace{0.75cm}
\begin{tikzpicture}
\node at (0, 4.5) (13b2) {$111---$};
\node at (0, 3) (123) {$11-1--$};
\node at (1.5, 1.5) (1b23) {$1-11--$};
\node at (-1.5, 1.5) (12b3) {$11--1-$};
\node at (0, 0) (1b2b3) {$1-1-1-$};
\draw[thick] (1b2b3) -- (1b23);
\draw[thick] (1b2b3) -- (12b3);
\draw[thick] (1b23) -- (123);
\draw[thick] (12b3) -- (123);
\draw[thick] (123) -- (13b2);
\end{tikzpicture}
\end{center}
\caption{The Hasse diagrams of: $\QSV_{3}$ with the Bruhat order; $\NCP_{3}$ with $\preceq$; and ballot sequences (for which each $-1$ is represented as $-$) with the term-wise order on partial sums.}
\label{fig:Hassediagrams}
\end{figure}

The final result of the section follows easily from the results of~\cite{GobetWilliams}, but is not stated explicitly.  For the sake of completeness, a proof is included.

\begin{cor}
\label{cor:bruhatncphelper}
Let $\lambda$ and $\mu$ be noncrossing partitions of size $n$.  Then $\lambda \preceq \mu$ if and only if 
\[
|\lambda^{+} \cap [k-1]| - |\lambda^{-} \cap [k]| \le |\mu^{+} \cap [k-1]| - |\mu^{-} \cap [k]|
\]
and
\[
|\lambda^{+} \cap [k]| - |\lambda^{-} \cap [k]| \le |\mu^{+} \cap [k]| - |\mu^{-} \cap [k]| 
\]
for all $1 \le k \le n$.
\end{cor}
\begin{proof}
By Proposition~\ref{prop:QSVorderbijection}, it is sufficient to show that for all $1 \le k \le n$,
\[
\sum_{i = 1}^{2k - 1} b^{\lambda}_{i}  = 1 + 2|\lambda^{+} \cap [k-1]| - 2|\lambda^{-} \cap [k]|
\qquad\text{and}\qquad
\sum_{i = 1}^{2k} b^{\lambda}_{i}  = 2|\lambda^{+} \cap [k]| - 2|\lambda^{-} \cap [k]|.
\] 
This will be established inductively: for $k = 1$ the equations can be verified directly, and for $k > 1$, we consider the differences between the $k-1$st expression and the $k$th: 
\[
(1 + 2|\lambda^{+} \cap [k-1]| - 2|\lambda^{-} \cap [k]|) - (2|\lambda^{+} \cap [k-1]| + 2|\lambda^{-} \cap [k-1]|)
= 1 - 2|\lambda^{-} \cap \{k\}|,
\]
which is $b^{\lambda}_{2k-1}$, and 
\[
(2|\lambda^{+} \cap [k]| - 2|\lambda^{-} \cap [k]|) - (1 + 2|\lambda^{+} \cap [k-1]| + 2|\lambda^{-} \cap [k]|) = 2|\lambda^{+} \cap \{k\}| - 1,
\]
which is $b^{\lambda}_{2k}$.
\end{proof}

\begin{rem}
We make several additional remarks about Proposition~\ref{prop:QSVorderbijection} below.
%There are two superficial differences between our presentation and that of~\cite{GobetWilliams}.
\begin{enumerate}
\item The results of~\cite{GobetWilliams} describe the Bruhat ordering of the set $\{w^{-1} \;|\; w \in \QSV_{n}\}$, rather than $\QSV_{n}$.  
In the terminology of Remark~\ref{rem:QSVnoncrossing}, these are the noncrossing partitions associated to the cycle $(12\ldots n)$ rather than $(1n\ldots 2)$.  
Inversion gives an automorphism of the Bruhat order, so the results are equivalent.

\item The results of~\cite{GobetWilliams} use Dyck paths rather than ballot sequences for item 3.~in Propostition~\ref{prop:QSVorderbijection}.  
One can translate between the two by interchanging each $1$ in a ballot sequence with an up step in a Dyck path, and likewise each $-1$ with a down step.

\item Another realization of the order in item 3.~of Propostition~\ref{prop:QSVorderbijection} can be found in the dual of the interval between the empty diagram and the staircase in Young's lattice.  This follows from the straightforward order isomorphism between Dyck paths and the aforementioned dual interval~\cite[Solution 6.19 vv]{Stanley}.

\end{enumerate}
\end{rem}

\Lucas{I am here}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{The excedance quotient of the Bruhat order}
\label{sec:excedance}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This section will describe a quotient of the Bruhat order on $S_{n}$ under an equivalence relation defined by the weak excedances of a permutation.  
This quotient order has a number of desirable properties, which are also explored in the section.  
One particularly noteworthy result is that each equivalence class contains a unique element of the set $\QSV_{n}$, so the construction of this order can be seen as dual to the results of~\cite{GobetWilliams} described in Section~\ref{sec:bruhatballot}.  

Given a permutation $w \in S_{n}$, a \emph{weak excedance} of $w$ is a pair $(i, w_{i})$ for which $i \le w_{i}$.  Disaggregating, we define the \emph{excedance values} $\EV(w)$ and \emph{excedance positions} $\EP(w)$ to be the sets
\begin{align*}
\EV(w) &= \{ w_{i} \;|\; \text{$(i, w_{i})$ is a weak excedance of $w$}\},\;\text{and} \\[0.5em]
\EP(w) &= \{ i  \;|\; \text{$(i, w_{i})$ is a weak excedance of $w$}\}.
\end{align*}
Excedances and the sets $\EV(w)$ and $\EP(w)$ are easiest seen using two-line notation for permutations.  For example, marking non-excedancs in red,
\[
w = \overset{1}{3} \overset{2}{5} {\color{red} \overset{3}{1}} \overset{4}{4} {\color{red} \overset{5}{2}} \overset{6}{6} {\color{red} \overset{7}{5}} \overset{8}{8},
\qquad
\EP(w) = \{1, 2, 4, 6, 8\},\qquad\text{and}\qquad
\EV(w) = \{3, 4, 5, 6, 8\}.
\]
We define the \emph{excedance relation} $\sim$ on $S_{n}$ by:
\begin{equation}
\label{eq:excednacerel}
v \sim w \qquad\text{if and only if} \qquad \text{$\EV(v) = \EV(w)$ and $\EP(v) = \EP(w)$},
\end{equation}
and say that each equivalence class of $S_{n}/\sim$ is an \emph{excedance class}.

This section will investigate the properties of excedance classes and their interaction with the Bruhat order; a summary of the main results follows.  Each noncrossing partition $\lambda$ of size $n$ determines an excedance class: recall the sets $\lambda^{+}$ and $\lambda^{-}$ defined in Section~\ref{sec:ncp}, and let
\[
\CCC_{\lambda} = \{ w \in S_{n} \;|\;  \text{$\EV(w) = [n] \setminus \lambda^{+}$ and $\EP(w) = [n] \setminus \lambda^{-}$}  \}.
\]
In Section~\ref{sec:ex1}, it is shown that every  excedance class of $S_{n}$ is of the form $\CCC_{\lambda}$ for some noncrossing partition.  As an example, the are five excedance classes of $S_{3}$ are given below:
\[
\mathcal{C}_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = \{ \stackrel{1}{3}  \stackrel{2}{2} \color{red} \stackrel{3}{1} \color{black}, \stackrel{1}{2}\stackrel{2}{3} \color{red} \stackrel{3}{1} \color{black} \}, \qquad
\mathcal{C}_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/2, 2/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = \{ \stackrel{1}{3} \color{red} \stackrel{2}{1} \stackrel{3}{2}  \color{black} \}, \qquad
\mathcal{C}_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/2}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = \{\stackrel{1}{2}  \color{red} \stackrel{2}{1} \color{black}  \stackrel{3}{3}\}, 
\]
\[
\mathcal{C}_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
\foreach \i\j in {2/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = \{\stackrel{1}{1} \stackrel{2}{3}  \color{red} \stackrel{3}{2} \color{black} \}, \qquad\text{and}\qquad
\mathcal{C}_{\begin{tikzpicture}[scale = 0.35, baseline = 0.35*-0.2]
\foreach \x in {1, ..., 3}{\draw[fill] (\x - 1, 0) circle (2pt) node[inner sep = 2pt] (\x) {};}
\foreach \x in {1, ..., 3}{\node[below] at (\x) {$\scriptstyle \x$};}
%\foreach \i\j in {2/3}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}} = \{\stackrel{1}{1} \stackrel{2}{2} \stackrel{3}{3} \}.
\]
The Bruhat order descends to a relation on excedance classes, and we show that this relation is a partial order; in particular Section~\ref{sec:ex3} proves the following result.  Recall the order $\preceq$ from Section~\ref{sec:bruhatballot}.

\begin{thm}
\label{thm:excedancequotient}
Writing $\le$ for the partial order on excedance classes $S_{n}/\!\!\sim$ induced by the Bruhat order, $\CCC_{\lambda} \le \CCC_{\mu}$ if and only if $\lambda \preceq \mu$.
\end{thm}

Two important intermediate results stated in Section~\ref{sec:ex2} show that each excedance class $\CCC_{\lambda}$ contains a unique minimal and maximal elements, which are respectively a $321$-avoiding permutation and the element $Q_{\lambda} \in \QSV_{n}$.  Combined with Theorem~\ref{thm:excedancequotient}, this gives the following corollary.  

\begin{cor}\label{cor:interval}
Each excedance class $\CCC_{\lambda}$ is an interval in the Bruhat order, with upper bound $Q_{\lambda}$ and lower bound given by a $321$-avoiding permutation.
\end{cor}

%%%%%%%%%%%%%%%
\subsection{Excedance classes and noncrossing partitions}
\label{sec:ex1}
%%%%%%%%%%%%%%%

This section will establish some basic results which relate excedance classes to noncrossing partitions.  

\begin{prop}
For $n \ge 0$, the map
\[
\begin{array}{ccc}
\NCP_{n} & \longrightarrow & S_{n}/\!\!\sim \\
\lambda & \longmapsto & \CCC_{\lambda}
\end{array}
\]
is a bijection.
\end{prop}
\begin{proof}
We will first show that every excedance class of $S_{n}$ has the form $\CCC_{\lambda}$ for some $\lambda \in \NCP_{n}$.  
This is equivalent to showing that for any $w \in S_{n}$, the criterion of Lemma~\ref{lem:noncrossingpartitionproperty} holds:
\[
|\{i \in [k-1] \;|\; i \notin \EV(w)\}| \ge |\{ j \in [k] \;|\; j \notin \EP(w)\}| \qquad\text{for all $1 \le k \le n$}.
\]
We will establish the above inequality directly.  Fix $1 \le k \le n$ and suppose that $i \in [k]$ is not an excedance position, so that that $i > w_{i}$.  By assumption, $w_{i} < k$ and $w_{i}$ is not an excedance value.  Thus, 
\[
\{w_{i} \;|\; \text{$i \in [k-1]$ and $i \notin \EV(w)$} \} \subseteq \{j \in [k] \;|\; j \notin \EP(w)\},
\]
giving the claim.  Now, we must show that each $\CCC_{\lambda}$ is nonempty.  This is established by Lemma~\ref{lem:QSVexcedance} below, which completes the proof.
\end{proof}


\begin{lem}
\label{lem:QSVexcedance}
For any noncrossing partition $\lambda$, $Q_{\lambda} \in \CCC_{\lambda}$.  In particular, if $Q_{\lambda} \in S_{n}$, 
\[
\EV(Q_{\lambda}) = [n] \setminus \lambda^{+}
\qquad\text{and}\qquad
\EP(Q_{\lambda}) = [n] \setminus \lambda^{-}.
\]
\end{lem}
\begin{proof}
By definition, $Q_{\lambda}(j) < j$ if and only if the arc $ \edge{Q_{\lambda}(j)}{j}$ appears in $\lambda$, in which case $j \in \lambda^{-}$ and $Q_{\lambda}(j) \in \lambda^{+}$; this establishes the claim.
\end{proof}

The final result relates certain properties of the elements of $\CCC_{\lambda}$ to the partial sums of the ballot sequence $b^{\lambda}$ defined in Section~\ref{sec:bruhatballot}, by way of Corollary~\ref{cor:bruhatncphelper}.  This will be key to a number of arguments in subsequent sections.


\begin{lem}
\label{lem:tableautobruhat}
Let $\lambda$ be a noncrossing partition of size $n \ge 0$ and take $w \in \CCC_{\lambda}$.  For all $1 \le k \le n$, 
\[
|\{ w_{i} \;|\; \text{$n \ge i > k$ and $w_{i} < k$}\}|
%|\{j \in [n] \setminus \TTT_{k}(w) \;|\; j < k \}| 
= |\lambda^{+} \cap [k-1]| - |\lambda^{-} \cap [k]|
\]
and 
\[
|\{ w_{i} \;|\; \text{$1 \le i \le k$ and $w_{i} > k$}\}|
%|\{j \in \TTT_{k}(w) \;|\; j > k \}| 
= |\lambda^{+} \cap [k]| - |\lambda^{-} \cap [k] |.
\]
\end{lem}
\begin{proof}
To show the first equation, note that by definition
\[
|\lambda^{+} \cap [k-1]| - |\lambda^{-} \cap [k]| = |\{j \in [k-1] \;|\; j \notin \EV(w)\}| - |\{i \in [k] \;|\; i \notin \EP(w)\}|.
\]
For $i \in [k]$ with $i \notin \EP(w)$, it must be the case that $w_{i} < i$ and so $w_{i} \in [k-1]$ with $w_{i} \notin \EV(w)$.  
Therefore, the equation above counts the $w_{i} \in [k-1]$ for which $w_{i} \notin \EV(w)$ and $i \notin [k]$; this is exactly $\{ w_{i} \;|\; \text{$n \ge i > k$ and $w_{i} < k$}\}$.

The second equation follows from a similar but somewhat more complicated argument.  We begin by manipulating the right side into a more suitable form:
\begin{align*}
|\lambda^{+} \cap [k]| - |\lambda^{-} \cap [k] | &=  (k - |\lambda^{-} \cap [k] |) - (k - |\lambda^{+} \cap [k]|) \\
&= |\EP(w) \cap [k]| - |\EV(w) \cap [k]|.
\end{align*}
Now, for $j \in \EV(w) \cap [k]$, we have $j = w_{i}$ for some $i \le j$, so that $i \in \EP(w) \cap [k]$.  Since $i \in \EP(w) \cap [k]$ implies that $w_{i} \in \EV(w)$, the equation above counts the positions $i \in \EP(w) \cap [k]$ for which $w_{i} \notin [k]$; this set is equinumerous to $\{ w_{i} \;|\; \text{$1 \le i \le k$ and $w_{i} > k$}\}$.
\end{proof}

%%%%%%%%%%%%%%%
\subsection{Minimal and maximal elements}%Excedance classes are Bruhat intervals}
\label{sec:minmax}
\label{sec:ex2}
%%%%%%%%%%%%%%%

This section will show that each excedance class contains a unique Bruhat minimum and maximum.  
This is a key intermediate step to showing that excedance classes are Bruhat intervals with a well-defined quotient order.  
%This section will show that each excedance class is an interval in the Bruhat order, and in doing so explicitly specify the maximal and minimal elements.  
We will begin with the maximal elements, which are the elements of $\QSV_{n}$, while the minimal ($321$-avoiding) elements are discussed in Subsection~\ref{sec:ex2.1}

\begin{prop}
\label{prop:QSVinterval}
For all noncrossing partitions $\lambda$, $Q_{\lambda}$ is the Bruhat maximum element of $\CCC_{\lambda}$.  
%In particular $w \le Q_{\lambda}$ for all $w \in \CCC_{\lambda}$.
\end{prop}
\begin{proof}
Lemma~\ref{lem:QSVexcedance} shows that $Q_{\lambda} \in \CCC_{\lambda}$, so we need only show that $Q_{\lambda}$ is an upper bound for $\CCC_{\lambda}$; to this end, fix $w \in \CCC_{\lambda}$.  Using the tableau criterion (Proposition~\ref{TableauCriterion}), it is sufficient to show that $\TTT_{k}(w)$ is entry-wise less than or equal to $\TTT_{k}(Q_{\lambda})$ for each $1 \le k \le n$.

The argument consists of two distinct parts, first conducting an element-by-element comparison of the entries of $\TTT_{k}(w)$ and $\TTT_{k}(Q_{\lambda})$ which are strictly greater than $k$, and then doing the same for the elements which are at most $k$.  The validity of this hinges on the fact that these collections of entires have the same cardinality for $w$ and $Q_{\lambda}$: by Lemma~\ref{lem:tableautobruhat}, 
\begin{align*}
|\{ w_{i} \;|\; \text{$1 \le i \le k$ and $w_{i} > k$}\}|
&= |\{ Q_{\lambda}(i) \;|\; \text{$1 \le i \le k$ and $w_{i} > k$}\}| \\
&= |\lambda^{+} \cap [k]| - |\lambda^{-} \cap [k] |,
\end{align*}
and consequently $|\{ w_{i} \;|\; \text{$1 \le i \le k$ and $w_{i} \le k$}\}| = |\{ Q_{\lambda}(i) \;|\; \text{$1 \le i \le k$ and $w_{i} \le k$}\}|$.

We begin with the first part.  Enumerate the entries of $\TTT_{k}(w)$ and $\TTT_{k}(Q_{\lambda})$ which are greater than $k$ in increasing order as $x_{1} < x_{2} < \cdots <  x_{r}$ and $q_{1} < q_{2} < \ldots < q_{r}$.  We aim to show that $x_{i} \le q_{i}$ for each $1 \le i \le r$.  
Fixing one such $i$, Lemma~\ref{lem:tableautobruhat} gives that
\[
|\{ w_{t} \;|\; \text{$1 \le t \le q_{i}$ and $w_{t} > q_{i}$} \}| = |\lambda^{+} \cap [q_{i}]| - |\lambda^{-} \cap [q_{i}]|.
\]
%and each of $x_{1}, x_{2}, \ldots, x_{r}$ is contained in the set on the left.  
It is sufficient to show that the above quantity is equal to $r - i$, as this implies that each of $x_{1}, \ldots x_{i}$ must be less than $q_{i}$.

Let $C_{i}$ denote the connected component of $\lambda$ containing $y_{i}$.  
From the definition of $Q_{\lambda}$, $q_{i}$ must be the maximal element of $C_{i}$,  and $Q_{\lambda}^{-1}(q_{i})$ the minimal element.  
Combinatorially, the difference $|\lambda^{+} \cap [q_{i}]| - |\lambda^{-} \cap [q_{i}]|$ counts the number of arcs in $\lambda$ with left endpoint in $[q_{i}]$ and right endpoint in $[n] \setminus [q_{i}]$, and as $q_{i} \in \EV(w)$, this is the number of arcs in $\lambda$ which are above $q_{i}$.  
Every arc in $\lambda$ which lies above $q_{i}$ must fully contain $C_{i}$ between its left and right endpoints, and so in particular, the left endpoint of such an arc is contained in $[k]$, and the right endpoint is greater than $q_{i}$.  
Thus, each such arc belongs to the connected component of one of the elements $q_{i+1}, \ldots, q_{r}$; there are precisely $r - i$ such connected components.

For the second part of the argument, we aim to show that the entries of $\TTT_{k}(w)$ which are at most $k$ are entry-wise less than or equal to the analogous entries of $\TTT_{k}(Q_{\lambda})$, and we establish this in an indirect manner described below.  
Writing $s = |\lambda^{+} \cap [k-1]| - |\lambda^{-} \cap [k]|$, Lemma~\ref{lem:tableautobruhat} states that there are exactly $s$ elements of $[k]$ which do not appear in $\TTT_{k}(w)$, and likewise for $\TTT_{k}(Q_{\lambda})$.  
Respectively enumerate these elements in increasing order as $x_{1} < x_{2} < \cdots < x_{s}$ and $q_{1} < q_{2} < \cdots < q_{s}$.  
We will show that $q_{i} \le x_{i}$ for each $1 \le i \le s$, as this implies the opposite comparison for the remaining elements of $[k] \setminus \{q_{1}, q_{2}, \ldots, q_{s}\}$ and $[k] \setminus \{x_{1}, x_{2}, \ldots, x_{s}\}$ as desired.  

Fixing $1 \le i \le s$, Lemma~\ref{lem:tableautobruhat} gives that
\[
|\{ w_{t} \;|\; \text{$n \ge t > k$ and $w_{t} < q_{i}$} \}| = |\lambda^{+} \cap [q_{i} - 1]| - |\lambda^{-} \cap [q_{i}]|.
\]
It is therefore sufficient to show that the above quantity $i-1$, so that $q_{i}$ is bounded above by each of $x_{i}, x_{i+1}, \ldots, x_{s}$.

Combinatorially, the difference $|\lambda^{+} \cap [q_{i} - 1]| - |\lambda^{-} \cap [q_{i}]|$ counts the number of arcs in $\lambda$ with a left endpoint $[q_{i} -1]$ and a right endpoint in $[n] \setminus [q_{i}]$, or equivalently, the arcs above $q_{i}$ in $\lambda$.  
Writing $C_{i}$ for the connected component containing $q_{i}$, each such arc must contain $C_{i}$ between its left and right endpoints, so the left endpoint is less that $q_{i}$ and the right endpoint lies somewhere in $[n] \setminus [k]$.  
Thus, each such arc must belong to the connected component of one of $q_{1}, q_{2}, \ldots, q_{i-1}$, and there are $i-1$ such connected components.
\end{proof}

%%%%%%%%%%%%%%%
\subsubsection{The minimal element of an excedance class}
\label{sec:ex2.1}
%%%%%%%%%%%%%%%

We now turn to the minimal element of each excedance class described in Theorem~\ref{thm:excedancequotient}.  For a noncrossing partition $\lambda$ of size $n$, write 
\[
\lambda^{+} = \{a_{1} < a_{2} < \cdots < a_{s}\},
\qquad
\lambda^{-} = \{b_{1} < b_{2} < \cdots < b_{s}\},
\]
\[
[n] \setminus \lambda^{+} = \{x_{1} < x_{2} < \cdots < x_{n-s}\},
\qquad\text{and}\qquad
[n] \setminus \lambda^{-} = \{y_{1} < y_{2} < \cdots < y_{n-s}\},
\]
so that the elements of each set are enumerated in increasing order.  Let $T_{\lambda} \in S_{n}$ be the permutation with
\[
T_{\lambda}(i) = \begin{cases} a_{s} & \text{if $i = b_{s}$} \\ x_{s} & \text{if $i = y_{s}$.}  \end{cases}
\]
Thus, the one-line notation for $T_{\lambda}$ can be obtained by placing the elements of $\lambda^{+}$ in increasing left-to-right order in the positions $\lambda^{-}$, and placing the remaining elements of $[n]$ in the remaining positions in the same manner.  For example, with $n = 8$ and 
\[
\lambda = \begin{tikzpicture}[scale = 0.75, baseline = 0.75*-0.2]
\foreach \x in {1, ..., 8}{\draw[fill] (\x - 1, 0) node[inner sep = 2pt] (\x) {$\scriptstyle \x$};}
\foreach \i\j in {1/5, 2/3, 5/7}{\draw[thick] (\i) to[out = 35, in = 145] (\j);}
\end{tikzpicture}
\]
we have $\lambda^{+} = \{1, 2, 5\}$ and $\lambda^{-} = \{3, 5, 7\}$, $[8] \setminus \lambda^{+} = \{3, 4, 6, 7, 8\}$, and $[8] \setminus \lambda^{-} = \{1, 2, 4, 6, 8\}$, and consequently
\[
T_{\lambda} = \overset{1}{3} \overset{2}{4} {\color{red} \overset{3}{1}} \overset{4}{6} {\color{red} \overset{5}{2}} \overset{6}{7} {\color{red} \overset{7}{5}} \overset{8}{8},
\]
where non-excedances are marked in red, as at the beginning of Section~\ref{sec:excedance}.

\begin{prop}
\label{prop:321avoid}
For all noncrossing partitions $\lambda$, $T_{\lambda} \in \CCC_{\lambda}$, and this is the Bruhat-minimum element of $\CCC_{\lambda}$.
\end{prop}
\begin{proof}
To see that $T_{\lambda} \in \CCC_{\lambda}$, recall the elements $a_{i}, b_{i}, x_{i}$, and $y_{i}$ defined above for $\lambda$. For $1 \le r \le s$,
\[
a_{r} = \min\{ k  \;|\;  r \ge |[k] \cap \lambda^{+}| \}
\qquad\text{and}\qquad
b_{r} = \min\{ k  \;|\;  r \ge |[k] \cap \lambda^{-}| \}.
\]
By Lemma~\ref{lem:noncrossingpartitionproperty}, it is always the case that $|[k] \cap \lambda^{-}| \le |[k-1] \cap \lambda^{+}|$, and so $b_{r} < a_{r}$.  Thus the $(b_{r}, a_{r})$ is not a weak excedence of $T_{\lambda}$.  
A similar argument shows that every pair $(y_{r}, x_{r})$ is a weak excedance, so that 
\[
\lambda^{+} = [n] \setminus \EV(T_{\lambda})
\qquad\text{and}\qquad
\lambda^{-} =  [n] \setminus \EP(T_{\lambda}).
\]

To see that $T_{\lambda} \le w$ for all $w \in \CCC_{\lambda}$, recall the Tableau Criterion, Proposition~\ref{TableauCriterion}.  
For $1 \le k \le n$, the row $\TTT_{k}(T_{\lambda})$ will consist of the $|[k] \cap \lambda^{-}|$ smallest elements of $\EV(w)$ along with the $k - |[k] \cap \lambda^{-}|$ smallest elements of $[n] \setminus \EV(w)$.  
For $w$,  the row $\TTT_{k}(w)$ will also consist of $|[k] \cap \lambda^{-}|$ elements of $\EV(w)$ and $k - |[k] \cap \lambda^{-}|$ elements of $[n] \setminus \EV(w)$, but these elements need not be the minimal ones.  
Thus, by assumption of minimality, $\TTT_{k}(T_{\lambda})$ is entry-wise less than or equal to $\TTT_{k}(w)$.
\end{proof}

For the next result, recall that a permutation $w \in S_{n}$ is \emph{$321$-avoiding} if there do not exist indices $i < j < k$ for which $w_{i} > w_{j} > w_{k}$.  The number of $321$-avoiding permutations is known to be the $n$th Catalan number, so the following result establishes that each excedance class contains a unique $321$-avoiding permutation.

\begin{prop}
For all noncrossing partitions $\lambda$, the permutation $T_{\lambda}$ is $321$-avoiding.
\end{prop}
\begin{proof}
Let $i, j, k\in [n]$ and assume without loss of generality that $i < j < k$.  Since any element of $[n]$ must be contained in either $\lambda^{+}$ or its complement, we must have two elements of $\{i, j, k\}$ which belong to one of $\lambda^{-}$ or $[n] \setminus \lambda^{-}$.  Since $T_{\lambda}$ restricts to an order-preserving bijection from $\lambda^{+}$ to $\lambda^{-}$, and from $[n] \setminus \lambda^{+}$ to $[n] \setminus \lambda^{-}$, this implies that no $321$-pattern can exist in $T_{\lambda}$, giving the first claim.
\end{proof}

%%%%%%%%%%%%%%%
\subsection{Comparing excedance classes}
\label{sec:ex3}
%%%%%%%%%%%%%%%

This section will prove Theorem~\ref{thm:excedancequotient}, following an intermediate result.

To begin, recall the order $\preceq$ on noncrossing partitions defined in Section~\ref{sec:bruhatballot}

\begin{prop}
\label{prop:Qdominates}
Let $\mu$ be a noncrossing partition of size $n$.  Then
\[
\{w \in S_{n} \;|\; w \le Q_{\mu}\} = \bigsqcup_{\lambda \preceq \mu} \CCC_{\lambda}.
\]
\end{prop}
\begin{proof}
To begin, assume that $\lambda \preceq \mu$, so that by Proposition~\ref{prop:QSVorderbijection}, $Q_{\lambda} \le Q_{\mu}$.  By Proposition~\ref{prop:QSVinterval}, we have $w \le Q_{\lambda}$ for any $w \in C_{\lambda}$, so we have
\[
\{w \in S_{n} \;|\; w \le Q_{\mu}\} \supseteq \bigsqcup_{\lambda \preceq \mu} \CCC_{\lambda}.
\]

To see the opposite containment, suppose that $w$ is a permutation with $w \le Q_{\mu}$ and let $\lambda$ be the unique noncrossing partition for which $w \in \CCC_{\lambda}$.  
By way of Corollary~\ref{cor:bruhatncphelper}, $\lambda \preceq \mu$ is equivalent to the inequalities
\[
|\lambda^{+} \cap [k-1]| - |\lambda^{-} \cap [k]| \le |\mu^{+} \cap [k-1]| - |\mu^{-} \cap [k]|
\]
and
\[
|\lambda^{+} \cap [k]| - |\lambda^{-} \cap [k]| \le |\mu^{+} \cap [k]| - |\mu^{-} \cap [k]|
\]
for all $1 \le k \le n$.  
We will establish this equivalent formulation of our claim using the characterization of each side given in Lemma~\ref{lem:tableautobruhat}.  
From the assumption that $w \le Q_{\mu}$, the tableau criterion (Proposition~\ref{TableauCriterion}) states that the tableau $\TTT(w)$ is entry-wise less than or equal to $\TTT(Q_{\mu})$.  
Thus, for each $1 \le k \le n$, 
\[
|\{w_{i} \;|\; \text{$1 \le i \le k$ and $w_{i} > k$} \}|
\le
|\{Q_{\mu}(i) \;|\; \text{$1 \le i \le k$ and $Q_{\mu}(i) > k$} \}|,
\]
since each entry of $\TTT_{k}(w)$ is bounded above by the corresponding entry of $\TTT_{k}(Q_{\mu})$, and likewise
\[
|\{ w_{i} \;|\; \text{$n \ge i > k$ and $w_{i} < k$} \}| 
\le
|\{ Q_{\mu}(i) \;|\; \text{$n \ge i > k$ and $Q_{\mu}(i) < k$} \}|,
\]
since each entry of $\TTT_{k}(Q_{\mu})$ is bounded below by the corresponding entry of $\TTT_{k}(w)$.  This completes the proof.
\end{proof}

We now prove Theorem~\ref{thm:excedancequotient}.  Recall the elements $T_{\lambda}$ defined in Section~\ref{sec:ex2.1}.

\begin{proof}[Proof of Theorem~\ref{thm:excedancequotient}]
Define a relation on excedance classes:
\[
\CCC_{\lambda} \le \CCC_{\mu}
\qquad\text{if and only if}\qquad
\text{$v \le w$ for some $v \in \CCC_{\lambda}$ and $w \in \CCC_{\mu}$}.
\]
As Lemma~\ref{lem:QSVexcedance} states that $Q_{\lambda} \in \CCC_{\lambda}$ for each noncrossing partition $\lambda$, Proposition~\ref{prop:QSVorderbijection} implies that $\CCC_{\lambda} \le \CCC_{\mu}$ whenever $\lambda \preceq \mu$.  It is therefore sufficient to show the converse: $\CCC_{\lambda} \le \CCC_{\mu}$ only if $\lambda \preceq \mu$.  To this end, suppose that $\CCC_{\lambda} \le \CCC_{\mu}$, so that $v \le w$ for some $v \in \CCC_{\lambda}$ and $w \in \CCC_{\mu}$.  With Proposition~\ref{prop:QSVinterval}, this implies that $v \le Q_{\lambda}$.  Then by Proposition~\ref{prop:Qdominates}, we have that $\lambda \preceq \mu$, completing the proof.
\end{proof}

%%%%%%%%%%%%%%%
\subsection{The weak order on excedance classes}
\label{sec:weakorder}
%%%%%%%%%%%%%%%

Theorem~\ref{thm:excedancequotient} and Corollary~\ref{cor:interval} show that the excedance classes partition the Bruhat order of $S_n$ in intervals and the quotient $S_n/\!\!\sim$ is a 
well defined order isomorphic to lattice $\preceq$ on noncrossing partitions. Another relevant order on $S_n$ is the (left) weak order generated by the  covering relation
	$$u\lessdot_w v \quad\iff\quad  \begin{cases} \ell(v)=\ell(u)+1, \text{ and } \\ vu^{-1} \text{ is a simple transposition } (a\, a+1) \end{cases}$$
This order is a suborder of the Bruhat order and there are several reason to study the weak order of $S_n$. For example, see~\cite{A,B,C} and much more. 
We are thus interested to use the quotient we define in Theorem~\ref{thm:excedancequotient} to define a weak order on excedance classes.
This will give us a weak order on the set $\QSV_n$ which will be of particular interest when we will study the points of $\QSV_n$ as a variety.  
In a sequel article, we will describe further interesting properties of the weak order. Here we shall define it and mention some of its properties in subsequent sections.

The (left) weak ordering on $S_n/\!\!\sim$ is generated by the  covering relation
  $$ C_{\lambda} \lessdot_w C_{\mu} \quad\iff\quad  Q_\lambda \lessdot_w  v\in C_{\mu} \text{ for some } v.$$
 This is a well defined suborder of the Bruhat order on $S_n/\!\!\sim$
 
 \begin{rem} 
  One can also consider the weak order restricted to the set $\QSV_n$ as we did in Section~\ref{sec:bruhatballot}.
  Unlike the Bruhat order, the two construction are not isomorphic. The order on the quotient is much more amenable to our
  current and future work than the restriction to $\QSV_n$. We leave to the interested reader the study of the weak order
  restricted to $\QSV_n$.
 \end{rem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Bases for the Temperley--Lieb Algebra $\TL_{n}(2)$}
\label{sec:TLbasis}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

The Temperley--Lieb algebra $\TL_{n}(2)$ is the $\CC$-algebra generated by elements $e_{1}, \ldots, e_{n-1}$ subject to the following relations for each $1 \le i, j \le n$
\[
\begin{array}{rll}
e_{i}^{2} &= 2 e_{i} \\
e_{i}e_{j} &= e_{j}e_{i} & \text{if $|i - j| > 1$} \\
e_{i} e_{j} e_{i} &= e_{i} & \text{if $|i - j| = 1$}.
\end{array}
\]
There is a subjective algebra morphism from the symmetric group algebra $\CC S_{n}$ to $\TL_{n}(2)$ given by 
\[
\begin{array}{rcl}
\phi: \CC S_{n} & \longrightarrow & \TL_{n}(2) \\
s_{i} & \longmapsto & 1 - e_{i}.
\end{array}
\]
In particular $\TL_{n}(2)\cong S_n/\ker(\phi)$.

It is well-known that the images of all $321$-avoiding permutations under $\phi$ forms a basis for $\TL_{n}(2)$.  
Another basis, due to Zinno~\cite{Zinno} can be obtained via the map $\phi$ using the combinatorics of noncrossing partitions described in Remark~\ref{rem:QSVnoncrossing}.  This basis is precisely the set $\{\phi(w^{-1}) \;|\; w \in \QSV_{n}\}$.  Since the kernel
\[
\ker(\phi) = \langle (13) - (123) - (132) + (12) + (23) - e \rangle
\]
is invariant under the $\CC$-linear map $w \mapsto w^{-1}$, the following result is an immediate consequence of~\cite[Theorem 2]{Zinno}.

\begin{thm}
\label{thm:TLbasis}
For all $n \ge 0$, the set $\phi(\QSV_{n})$ is a basis for $\TL_{n}(2)$.
\end{thm}

\begin{rem}
Theorem~\ref{thm:TLbasis} also follows from the results of Gobet and Williams in~\cite{GobetWilliams} as a special case of a much stronger result which gives a basis for $\TL_{n}(2)$ for each Coxeter element of $S_{n}$.  
However,~\cite{GobetWilliams} does not provide an explicit statement of this result, so it is easier to deduce the theorem as a consequence of Zinno's work directly.
\end{rem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{More Bases for the Temperley--Lieb Algebra $\TL_{n}(2)$}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Using excedance classes, we discovered that one can give a more general theorem for constructing Temperley--Lieb Algebra basis from permutation.
We include it here with its proof as it is a nice result of our current investigation.

\begin{thm}
\label{thm:TLbases}
Let $n \ge 0$ and for each $\lambda \in \NCP_{n}$, fix an element $w_{\lambda} \in \CCC_{\lambda}$.  Then the set 
$\{\phi(w_{\lambda}) \;|\; \lambda \in \NCP_{n}\}$ is a basis of $\TL_{n}(2)$.
\end{thm}

The Theorem~\ref{thm:TLbasis} then follow as a corollary of Theorem~\ref{thm:TLbases}.
In general, however, many bases obtained via Theorem~\ref{thm:TLbases} are novel.  A minimal example can be obtained with $n = 4$: the set 
\[
\{
\stackrel{1}{4} \stackrel{2}{3} \color{red} \stackrel{3}{1} \stackrel{4}{2} \color{black}, 
\stackrel{1}{4} \stackrel{2}{2} \stackrel{3}{3}  \color{red} \stackrel{4}{1} \color{black}, 
\stackrel{1}{4} \stackrel{2}{2}\color{red}  \stackrel{3}{1} \stackrel{4}{3} \color{black}, 
\stackrel{1}{3} \color{red}  \stackrel{2}{1} \color{black} \stackrel{3}{4} \color{red} \stackrel{4}{2}\color{black} , 
\stackrel{1}{1} \stackrel{2}{4} \stackrel{3}{3} \color{red} \stackrel{4}{2} \color{black}, 
\stackrel{1}{4} \color{red} \stackrel{2}{1} \stackrel{3}{2} \stackrel{4}{3} \color{black}, 
\stackrel{1}{3} \stackrel{2}{2} \color{red} \stackrel{3}{1} \color{black} \stackrel{4}{4}, 
\stackrel{1}{3} \color{red} \stackrel{2}{1} \stackrel{3}{2} \color{black} \stackrel{4}{4}, 
\stackrel{1}{2} \color{red} \stackrel{2}{1} \color{black} \stackrel{3}{4} \color{red} \stackrel{4}{3} \color{black}, 
\stackrel{1}{1} \stackrel{2}{3} \color{red} \stackrel{3}{2} \stackrel{4}{3} \color{black}, 
\stackrel{1}{2}  \color{red} \stackrel{2}{1} \color{black} \stackrel{3}{3} \stackrel{4}{4}, 
\stackrel{1}{1} \stackrel{2}{3} \color{red} \stackrel{3}{2} \color{black} \stackrel{4}{4}, 
\stackrel{1}{1} \stackrel{2}{2} \stackrel{3}{4}  \color{red} \stackrel{4}{3} \color{black},
\stackrel{1}{1} \stackrel{2}{2} \stackrel{3}{3} \stackrel{4}{4}
\}
\]
meets the criteria of Theorem~\ref{thm:TLbases}, and accordingly maps to a basis of $\TL_{n}(2)$ under $\phi$. 
This set is neither $\QSV_{4}$ not the set of $321$-avoiding permutations ($4312 \notin \QSV_{4}$ and is not $321$-avoiding).
Moreover, the set above is not described in~\cite{GobetWilliams, Zinno}: each subset of $S_{4}$ in these sources which is not $\phi(\QSV_{n})$ contains more than one element from certain excedance classes and none from others.  


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{A presentation of the Temperley--Lieb algebra}
\label{sec:TLpres}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Using the isomorphism $\TL_{n}(2)\cong S_n/\ker(\phi)$ is equivalent to applying a certain $\CC$-linear relations on the natural basis of $\CC S_{n}$.  
Recall that a $321$-pattern in a permutation $w \in S_{n}$ is a triple $i < j < k$ for which $w_{i} > w_{j} > w_{k}$.  Given such a pattern, we can write
\[
w = \mathbf{a}w_{i}\mathbf{b}w_{j}\mathbf{c}w_{k}\mathbf{d},
\]
where $\mathbf{a}$, $\mathbf{b}$, $\mathbf{c}$, and $\mathbf{d}$ are (possibly empty) subwords of $w$.  The quotient $\CC S_{n} / \ker(\phi)$ is then described by the relations
\begin{multline}
\label{eq:321relation}
w \equiv \mathbf{a}w_{j}\mathbf{b}w_{i}\mathbf{c}w_{k}\mathbf{d} + \mathbf{a}w_{i}\mathbf{b}w_{k}\mathbf{c}w_{j}\mathbf{d} - \mathbf{a}w_{j}\mathbf{b}w_{k}\mathbf{c}w_{i}\mathbf{d} \\
- \mathbf{a}w_{k}\mathbf{b}w_{i}\mathbf{c}w_{j}\mathbf{d} + \mathbf{a}w_{k}\mathbf{b}w_{j}\mathbf{c}w_{i}\mathbf{d}  \qquad \text{(mod $\ker(\phi)$)}
\end{multline}
for each $321$-pattern in each permutation $w \in S_{n}$.

\begin{lem}
\label{lem:321reducebruhat}
Let $w \in S_{n}$ be a permutation with a $321$-pattern in positions $i < j < k$.  Then $w > w'$ for each $w'$ in the set
\[
\{
\mathbf{a}w_{j}\mathbf{b}w_{i}\mathbf{c}w_{k}\mathbf{d},  \,
\mathbf{a}w_{i}\mathbf{b}w_{k}\mathbf{c}w_{j}\mathbf{d}, \,
\mathbf{a}w_{j}\mathbf{b}w_{k}\mathbf{c}w_{i}\mathbf{d}, \,
\mathbf{a}w_{k}\mathbf{b}w_{i}\mathbf{c}w_{j}\mathbf{d}, \,
\mathbf{a}w_{k}\mathbf{b}w_{j}\mathbf{c}w_{i}\mathbf{d}
\}
\]
\end{lem}
\begin{proof}
Let $w'=\mathbf{a}w_{j}\mathbf{b}w_{i}\mathbf{c}w_{k}\mathbf{d}$, we have $w(w')^{-1}= (w_j\,w_i)$ is a transposition. 
Every inversion of $w'$ is an inversion on $w$. On the other hand, $w$ has the inversion $i<j$, $w_i>w_j$, and potentially more (two for each $b\in \mathbf{b}$ where $w_j<b<w_i$).
Hence $\ell(w')<\ell(w)$, and therefore $w>w'$ (see~\cite[Chapter 2]{BjornerBrenti}). All other cases are similar, one transposition at a time.
\end{proof}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Proof of Theorem~\ref{thm:TLbases}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This section proves Theorem~\ref{thm:TLbases}, which follows from the triangularity established in the next result.  Recall the $321$-avoiding permutation $T_{\lambda}$ defined in Section~\ref{sec:ex2.1} for each noncrossing partition $\lambda \in \NCP_{n}$.

\begin{prop}
\label{prop:TLbases}
For $n \ge 0$, take $w \in S_{n}$ and let $\lambda \in \NCP_{n}$ be the unique noncrossing partition for which $w \in \CCC_{\lambda}$.  Then
\[
w \equiv T_{\lambda} + \sum_{\mu \prec \lambda} a_{\mu}^{w} T_{\mu} \qquad \text{(mod $\ker(\phi)$)}
\]
for some coefficients $a_{\mu}^{w} \in \ZZ$.
\end{prop}

A proof of the Proposition follows the next Lemma.

\begin{lem}
\label{lem:321excedance}
Suppose that $w \in S_{n}$ has a $321$-pattern.  Then $w$ has a $321$-pattern $i < j < k$ with $i \in \EP(w)$ and $k \notin \EP(w)$, and moreover exactly one element of the set 
\[
\{
\mathbf{a}w_{j}\mathbf{b}w_{i}\mathbf{c}w_{k}\mathbf{d},  \,
\mathbf{a}w_{i}\mathbf{b}w_{k}\mathbf{c}w_{j}\mathbf{d}, \,
\mathbf{a}w_{j}\mathbf{b}w_{k}\mathbf{c}w_{i}\mathbf{d}, \,
\mathbf{a}w_{k}\mathbf{b}w_{i}\mathbf{c}w_{j}\mathbf{d}, \,
\mathbf{a}w_{k}\mathbf{b}w_{j}\mathbf{c}w_{i}\mathbf{d}
\}
\]
belongs to the same excedance class as $w$.
\end{lem}
\begin{proof}
By assumption, $w$ has a $321$-pattern, which we will denote by $i_{0} < j_{0} < k_{0}$.
For the first claim, we proceed in cases based on $i_{0}$ and $k_{0}$.  
If $i_{0} \in \EP(w)$, then either $k_{0} \notin \EP(w)$, in which case we have the desired $321$-pattern, or $k_{0} \in \EP(w)$, in which case we have $i_{0} < j_{0} < k_{0} \le w_{k_{0}} < w_{j_{0}} < w_{i_{0}}$.  
Proceeding with the assumption that $k_{0} \in \EP(w)$, the set $w^{-1}([k_{0}-1])$ does not contain $i_{0}$, $j_{0}$, or $k_{0}$, so there is at least one $k > k_{0}$ with $w_{k} < k_{0}$, and $i_{0} < j_{0} < k$ is a $321$-pattern for which $i_{0} \in \EP(w)$ and $k \notin\EP(w)$.  
On the other hand, if $i_{0} \notin \EP(w)$ then $w_{k_{0}} < w_{j_{0}} < w_{i_{0}} < i_{0} < j_{0} < k_{0}$, so that $k_{0} \notin \EP(w)$.  
In this case $w([i_{0} - 1])$ does not contain $w_{i_{0}}$, $w_{j_{0}}$, or $w_{k_{0}}$, so there is at least one $i < i_{0}$ for which $w_{i} > i_{0}$, and $i < j_{0} < k_{0}$ is a $321$-pattern for which $i \in \EP(w)$ and $k_{0} \notin\EP(w)$.  

For the second argument, we write $i < j < k$ for the $321$-pattern described in the first claim.  There are two cases, depending on whether $j$ is an excedance position or not, and we will only consider the first case, as the second follows from a similar argument.  Assuming that $j \in \EP(w)$, we first show that with $w' = \mathbf{a}w_{j}\mathbf{b}w_{i}\mathbf{c}w_{k}\mathbf{d}$, 
\[
\EP(w') = \EP(w)
\qquad\text{and}\qquad
\EV(w') = \EV(w).
\]
For all $s \in [n] \setminus \{i, j\}$, we have $w'_{i} = w_{i}$, so the above statement reduces to $i, j \in \EP(w')$ and $w_{i}, w_{j} \in \EV(w')$; to see this, observe that $i < j \le w_{j} < w_{i}$, and so $w'_{i} = w_{j} > i$ and $w'_{j} = w_{i} > j$.  
To complete the proof, we verify that each element $w''$ in the set
\[
\{
\mathbf{a}w_{i}\mathbf{b}w_{k}\mathbf{c}w_{j}\mathbf{d}, \,
\mathbf{a}w_{j}\mathbf{b}w_{k}\mathbf{c}w_{i}\mathbf{d}, \,
\mathbf{a}w_{k}\mathbf{b}w_{i}\mathbf{c}w_{j}\mathbf{d}, \,
\mathbf{a}w_{k}\mathbf{b}w_{j}\mathbf{c}w_{i}\mathbf{d}
\}
\]
belongs to a difference excedance class than $w$: either $k \le w''_{k}$, in which case $\EP(w'') \neq \EP(w)$, or $w''_{k} \in \{w_{i}, w_{j}\}$ is a not excedance value for $w''$, in which case $\EV(w'') \neq \EV(w)$.  
\end{proof}

\begin{proof}[Proof of Proposition~\ref{prop:TLbases}]
We proceed by induction on the Bruhat order of $S_{n}$.  If $w$ is $321$-avoiding, then $w = T_{\lambda}$ and the claim clearly holds.  
If $w$ is not $321$-avoiding, we have $T_{\lambda} < w$, so we assume for the sake of induction that for each $v < w$ the claim holds.  
As $w$ has a $321$-pattern, Equation~\eqref{eq:321relation}, Lemma~\ref{lem:321reducebruhat}, and Lemma~\ref{lem:321excedance} allow us to express
\[
w \equiv w' + \sum_{\substack{w'' \le w \\ w'' \notin \CCC_{\lambda} }} b_{w''} w'' \qquad \text{(mod $\ker(\phi)$)},
%\mu \prec \lambda} \sum_{w'' \in \CCC_{\mu}} b_{w''} w'',
\]
where $w' < w$ is an element of $\CCC_{\lambda}$, and each coefficient $b_{w''}$ belongs to $\{1, 0, -1\}$.  
We may now apply out inductive hypothesis to the elements $w'$ and $w''$ in the expression above; by Proposition~\ref{prop:Qdominates}, each $w''$ in the sum above belongs to an excedance class $\CCC_{\mu}$ with $\mu \prec \lambda$, so that this gives
\[
w \equiv T_{\lambda} + \sum_{\mu \prec \lambda} a_{\mu}^{w'} T_{\mu} + \sum_{\mu \prec \lambda} \sum_{w'' \in \CCC_{\mu}} \left( b_{w''} T_{\mu} + \sum_{\nu \prec \mu} b_{w''} a_{\nu}^{w''} T_{\nu}\right)
\]
for some coefficients $a_{\mu}^{w'}, a_{\mu}^{w''} \in \ZZ$.  Combining like terms, the proof is complete.
\end{proof}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Quasisymmetric vanishing polynomials}
\label{sec:QSymvanish}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


In this section we define polynomials in $n$ variables that vanishes on the set $\QSV_n$ and such that
the homogeneous top degree is quasisymmetric. More precisely, let $\alpha=(\alpha_1,\alpha_2,\ldots,\alpha_k)$
be any fixed composition of $d>0$. Let 
	$$M_\alpha(x_1,x_2,\ldots,x_n)=\sum_{1\le i_1<i_2<\cdots<i_k\le n} x_{i_1}^{\alpha_1} x_{i_2}^{\alpha_2}\cdots  x_{i_k}^{\alpha_k}$$
be the quasisymmetric monomial indexed by $\alpha$. We  define a polynomial $P_\alpha(x_1,x_2,\ldots,x_n)$ such that
  $P_\alpha = M_\alpha +$  lower degree terms, and  $P_\alpha(\sigma)=0$  for all $\sigma\in \QSV_n$.

%$1=f_1<f_2<\cdots <f_\ell<f_{\ell+1}=n+1$ and 
%$\beta_i=\alpha_{f_i}+\alpha_{f_i+1}+\cdots+\alpha_{f_{i+1}-1}$.
%When $\alpha$ refine $\beta$, we write $\alpha\le\beta$.

\begin{definition}\label{def:vanishP}
 For any $\alpha=(\alpha_1,\alpha_2,\ldots,\alpha_k)$, define the polynomial $P_\alpha(x_1,x_2,\ldots,x_n)$ as
	$$P_\alpha=\sum_{\ell=1}^k (-1)^{k-\ell} \sum_{1=f_1<f_2<\cdots <f_{\ell+1}=k+1  \atop 1\le i_1<i_2<\cdots < i_\ell\le n} \prod_{j=1}^\ell 
	      \Big( (x_{i_j}^{\alpha_{f_j}}- i_j^{\alpha_{f_j }})  i_j^{\alpha_{f_j +1}+\cdots+\alpha_{f_{j +1}-1}} \Big)
	      $$
	      The top degree of $P_\alpha$ is in the sum when $\ell=k$, we must have $f_i=i$ in this case. Choosing the variable $x_{i_j}$ in all binomials $(x_{i_j}^{\alpha_{f_j}}- i_j^{\alpha_{f_j }})$, we get $M_\alpha$.
\end{definition}
	      
For a fix $\sigma$, we will partition the sums in $P_\alpha$ according to the cycle type of $\sigma$ and the non-crossing structure
of these cycle will play a major role in showing the following theorem.

\begin{thm}\label{thm:vanishing}
 For any $\alpha$ and any $\sigma\in \QSV_n$ we  have $P_\alpha(\sigma)=0$.
\end{thm}

\begin{proof}
 Let $\sigma=C_1C_2\cdots C_r$  the decomposition of $\sigma$ into disjoint cycle. We include the fix points a 1-cycles.
 Given a set on indices $1\le i_1<i_2<\cdots < i_\ell\le n$ we say that the cycle support of $S=\{ i_1,i_2,\ldots , i_\ell\}$
 is $C(S)=\{j : S\cap C_j \not= \emptyset \}$. We have
 	$\displaystyle P_\alpha=\sum_{T\subseteq [r]} P_{\alpha,T},$
where 
\begin{equation}\label{eq:PT}
P_{\alpha,T}=
	\sum_{\ell=|T|}^k (-1)^{k-\ell} \hskip-.8cm \sum_{{1=f_1<f_2<\cdots <f_{\ell+1}=k+1  \atop 1\le i_1<i_2<\cdots < i_\ell\le n}\atop C(\{ i_1,i_2,\ldots , i_\ell\})=T} \prod_{j=1}^\ell 
	      \Big( (x_{i_j}^{\alpha_{f_j}}- i_j^{\alpha_{f_j }})  i_j^{\alpha_{f_j +1}+\cdots+\alpha_{f_{j +1}-1}} \Big)\,.
\end{equation}
We show that $P_{\alpha,T}(\sigma)=0$ for all $T$. If $T=\emptyset$ there is nothing to show as $P_{\alpha,\emptyset}=0$. 
We first consider the case when $|T|=1$, and then use the non-crossing structure of the cycles to reduce the case $|T|>1$
to $|T'|=1$.

\medskip
\noindent{\bf Case $\bf |T|=1$}: Let $T=\{t\}$ and $C_t=(a_m\,\ldots\,a_2\,a_1)$, where $a_1<a_2<\cdots<a_m$. Remark that on such cycle, the variable $x_{a_i}=a_{i-1}$ with the convention that $a_0=a_m$.
Expanding all the product in the definition of $P_{\alpha,T}$ and evaluating at $\sigma$, we obtain
\begin{equation}\label{eq:PTatsigma}
	P_{\alpha,\{t\}}(\sigma)=
	\sum_{{1\le j_1\le j_2\le\cdots\le j_k\le m}} \sum_{{\epsilon_1,\epsilon_2,\ldots,\epsilon_k \atop \epsilon_i\in \{0,1\}}\atop \epsilon_i=1 \text{ if } j_{i-1}=j_i} (-1)^{\sum \epsilon_i}\ 
	   z_{j_1,\epsilon_1}^{\alpha_1}z_{j_2,\epsilon_2}^{\alpha_2} \cdots z_{j_k,\epsilon_k}^{\alpha_k}\,,
\end{equation}
where $z_{j_i,\epsilon_i}=a_{j_i-1}$ if $\epsilon_i=0$, otherwise $z_{j_i,\epsilon_i}=a_{j_i}$. To show that $P_{\alpha,\{t\}}(\sigma)=0$, we construct a sign reversing involution 
on the evaluation of the terms in Equation~\eqref{eq:PTatsigma}.

Given $1\le j_1\le j_2\le\cdots\le j_k\le m$ and $\epsilon_1,\epsilon_2,\ldots,\epsilon_k$, we have the term 
$$z_{j_1,\epsilon_1}^{\alpha_1}z_{j_2,\epsilon_2}^{\alpha_2} \cdots z_{j_k,\epsilon_k}^{\alpha_k}=a_{s_1}^{\alpha_1}a_{s_2}^{\alpha_2}\cdots a_{s_k}^{\alpha_k},$$
where $s_i\in\{j_i,j_i-1\}$ depending on  $\epsilon_i$ and  $0\le s_1\le s_2\le \cdots\le s_k\le m$. First find the largest, rightmost $s_i\not\in\{0,m\}$. 

\medskip
\noindent
If $\epsilon_i=1$, then let $\epsilon'_i=0$ and $j'_i=j_i+1$, fixing all other values $\epsilon'_p=\epsilon_p$ and $j'_p=j_p$ for $p\not= i$.

\medskip
In this case remark that $z_{j_i,\epsilon_i}=a_{j_i}=z_{j'_i,\epsilon'_i}$ and $z_{j_p,\epsilon_p}=z_{j'_p,\epsilon'_p}$ for  $p\not= i$. Hence
 $$ (-1)^{\sum \epsilon'_i}\ z_{j'_1,\epsilon'_1}^{\alpha_1}z_{j'_2,\epsilon'_2}^{\alpha_2} \cdots z_{j'_k,\epsilon'_k}^{\alpha_k}
  = - (-1)^{\sum \epsilon_i}\ z_{j_1,\epsilon_1}^{\alpha_1}z_{j_2,\epsilon_2}^{\alpha_2} \cdots z_{j_k,\epsilon_k}^{\alpha_k}$$
 To show that $z_{j'_1,\epsilon'_1}^{\alpha_1}z_{j'_2,\epsilon'_2}^{\alpha_2} \cdots z_{j'_k,\epsilon'_k}^{\alpha_k}$ is a term of the sum Equation~\eqref{eq:PTatsigma}
 we need to show that $j'_1\le\cdots\le j'_{i}\le j'_{i+1}\le\cdots\le j'_{k}$ and since $\epsilon'_i=0$, we need $j'_{i-1}<j'_i$.
 For the last inequality, we have $j'_{i-1}=j_{i-1}\le j_i<j_i+1=j'_i$. For the other inequality among the $j$'s, we only need to show that $j'_{i}=j_i+1\le j_{i+1}= j'_{i+1}$.
 Here we recall that $i$ is chosen so that $s_i$ is the rightmost values such that $0<s_i<m$. This implies that either $i=k$ and there is no $j_{i+1}$ or $s_{i+1}=m\in\{j_{i+1},j_{i+1}-1\}$
 and $j_{i+1}\ge m >s_i=j_i$. The last equality follows from $\epsilon_i=1$. We thus have that all such terms cancelled each other in Equation~\eqref{eq:PTatsigma}.
 
 The case where $\epsilon_i=0$ is very similar and is the reverse of the operation above. The choice of the rightmost $s_i\not\in\{0,n\}$ will be the same in both cases, showing that we indeed
 have a sign reversing involution. All terms such that the evaluation $a_{s_1}^{\alpha_1}a_{s_2}^{\alpha_2}\cdots a_{s_k}^{\alpha_k}$ contains some $0<s_i<m$ will cancel.
 The only two terms that survive the cancelation are
 $$(-1)^{n-1}a_{0}^{\alpha_1}a_{m}^{\alpha_2}\cdots a_{m}^{\alpha_k}+  (-1)^n a_{m}^{\alpha_1}a_{m}^{\alpha_2}\cdots a_{m}^{\alpha_k}$$
 that can only be obtained when $j_1=1$ and $j_2=\cdots=j_k=m$ with $\epsilon_1=0$ and $\epsilon_2=\cdots=\epsilon_k=1$, for the first term;
 and when $j'_1=\cdots=j'_k=m$ with $\epsilon'_1=\cdots=\epsilon'_k=1$ for the second term. Since $a_0=a_m$:
  $$P_{\alpha,\{t\}}(\sigma)=(-1)^{n-1}a_{0}^{\alpha_1}a_{m}^{\alpha_2}\cdots a_{m}^{\alpha_k}+  (-1)^n a_{m}^{\alpha_1}a_{m}^{\alpha_2}\cdots a_{m}^{\alpha_k}=0.$$


\medskip 
\noindent{\bf Case $\bf |T|>1$}: 
When we have more than one cycle involved, let $T=\{t_1,t_2,\ldots,t_r\}$ and we assume (without lost of generality) that $C=C_{t_1}$
is a cycle that do not contain (in the non-crossing sense) any nested cycles among $C_{t_j}$ for $j>1$. The fact that the cycles of $\sigma$ are non-crossing guaranties the existence of such $C$
for any given $T$.  We now partition the terms of Equation~\eqref{eq:PT} according to the intersection of $ i_1<i_2<\cdots < i_\ell$ with the $C_{t_j}$ for $j>1$ and the corresponding possible choices of $f_j$'s.
We  show that the portion of the terms intersecting $C$ is a vanishing polynomials as in the case $|T|=1$. Let $c=\min(C)$ and $d=\max(C)$.
Assume we have $C(\{ i_1,i_2,\ldots , i_\ell\})=T$ and let 
 	$$CQ_j(\{i_1,i_2,\ldots,i_\ell\})=\{i_1,i_2,\ldots,i_\ell\}\cap C_{t_j}\not= \emptyset\,.$$ 
From our choice of $C=C_{t_1}$, we have $CQ_j(\{i_1,i_2,\ldots,i_\ell\})=\{i_1,i_2,\ldots,i_\ell\}\cap \{i: c\le i\le d\}$. Outside the range $[c,d]=\{i: c\le i\le d\}$, we fix all the other parameters involved in the terms
$P_{\alpha,T}$ in Equation~\eqref{eq:PT}.
Fix $Q=(Q_2,\ldots,Q_r)$ where $\emptyset\not= Q_j\subset C_{t_j}$ such that 
	$$\bigcup_{j=2}^r Q_j = \{\underline{i}_1,\underline{i}_2,\ldots,\underline{i}_p\} \cup  \{\overline{i}_1,\overline{i}_2,\ldots,\overline{i}_q\}$$
where $p+q<k$ and 
	$$\underline{i}_1<\underline{i}_2<\cdots<\underline{i}_p<c\le d<\overline{i}_1<\overline{i}_2<\cdots<\overline{i}_q\,.$$
We also fix $F=\{\underline{f}_1,\underline{f}_2,\ldots,\underline{f}_p,\underline{f}_{p+1},\overline{f}_1,\overline{f}_2,\ldots,\overline{f}_q,\overline{f}_{q+1}\}$. where
	$$1=\underline{f}_1<\underline{f}_2<\cdots<\underline{f}_p<\underline{f}_{p+1}<\overline{f}_1<\overline{f}_2<\cdots<\overline{f}_q<\overline{f}_{q+1}=k+1\,.$$
For any term of the sum in  Equation~\eqref{eq:PT}, we have a unique corresponding $Q$ and $F$. 
In particular, we have $\displaystyle P_{\alpha,T}=\sum_Q P_{\alpha,T,Q,F}$ where
\begin{align*}\label{eq:PTQ}
P_{\alpha,T,Q,F}= &\prod_{j=1}^p 
	     	\Big( (x_{\underline{i}_j}^{\alpha_{\underline{f}_j}}-\underline{i}_j^{\alpha_{\underline{f}_j }})  \underline{i}_j^{\alpha_{\underline{f}_j +1}+\cdots+\alpha_{\underline{f}_{j +1}-1}} \Big) \times\\
	&\sum_{\ell=1}^{k-p-q} (-1)^{k-p-q-\ell} \hskip-1cm
	\sum_{{{{\underline{f}_{p+1}=f_1<f_2<\cdots <f_{\ell-p-q+1}=\overline{f}_1   \atop c \le i_1<i_2<\cdots < i_{\ell-p-q} \le d}\atop C(\{ i_1,i_2,\ldots , i_{\ell-p-q}\})=\{t_1\}}}}
		\prod_{j=1}^\ell 
	     	\Big( (x_{i_j}^{\alpha_{f_j}}- i_j^{\alpha_{f_j }})  i_j^{\alpha_{f_j +1}+\cdots+\alpha_{f_{j +1}-1}} \Big)\times\\
		&\quad\prod_{j=1}^q 
	     	\Big( (x_{\overline{i}_j}^{\alpha_{\overline{f}_j}}-\overline{i}_j^{\alpha_{\overline{f}_j }})  \overline{i}_j^{\alpha_{\overline{f}_j +1}+\cdots+\alpha_{\overline{f}_{j +1}-1}} \Big) \,.
\end{align*}
When we evaluate $P_{\alpha,T,Q,F}(\sigma)$, then centred term above is $P_{(\alpha_{\underline{f}_{p+1}}, \alpha_{\underline{f}_{p+1}+1} , \ldots, \alpha_{\overline{f}_1} ),\{t_1\}}(C_{t_1})=0$ using the result for $|\{t_1\}|=1$ in first part of the proof. This complete the proof.
\end{proof}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Quasisymmetric varieties}
\label{sec:finalthm}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


We are now ready to state and prove one of our main theorems. Let $R_n=\QQ[x_1,x_2,\ldots,x_n]$ denote the polynomial ring in $n$ variables and for $f\in R_n$ let $h(f)$ denote
the top degree homogeneous component of $f$. For any ideal $I$, let $gr(I)=\langle h(f) : f\in I \rangle$. Finally, let $J_n=\langle M_\alpha : \alpha\models d>1 \rangle$ where $M_\alpha$ are the monimial basis of $QSym$, the quasisymetric  polynomials.

\begin{thm}\label{thm:vanishingQSV} The Ideal $I_n=\langle P_\alpha : \alpha\models d>1\rangle\subseteq R_n$ is the vanishing ideal of $\QSV_n$ and 
 $$J_n=\langle M_\alpha : \alpha\models d>1\rangle = gr(I_n).$$
 \end{thm}

\begin{proof}
	Let $I'_n$ denote the vanishing ideal of $\QSV_n$. From Theorem~\ref{thm:vanishing}, we have that $I_n\subseteq I'_n$. From this we deduce that
	 $$ \dim(R_n/I_n) \ge \dim(R_n/I'_n)\,.$$
	 Since $I'_n$ is the vanishing ideal of a finite set of points, we have 
	 $$ \dim(R_n/I'_n)=|QSV_n|=C_n\,.$$
	 
	Let $J_n=\langle M_\alpha : \alpha\models d>1\rangle$ and $gr(I_n)=\langle h(f) : f\in I_n \rangle$, where $h(f)$ is the top degree homogeneous component of $f$.
	For example, as noted in Definition~\ref{def:vanishP}, we have $h(P_\alpha)=M_\alpha$. Hence $J_n\subseteq gr(I_n)$. 
	A standard use of Gr\"obner basis~\cite{CLO} shows that for graded-lex order, the initial ideal of $I_n$ is the same as the initial ideal of $gr(I_n)$ (they have the same leading term ideal).
	This gives us $\dim(R_n/gr(I_n)) =  \dim(R_n/I_n)$. Now, the main result of~\cite{ABB} shows that
	$ \dim(R_n/J_n)=C_n\,.$
	Thus, putting it all together, we have 
	$$C_n= \dim(R_n/J_n) \ge \dim(R_n/gr(I_n)) =  \dim(R_n/I_n) \ge \dim(R_n/I'_n) =C_n\,,$$
	and equalities must hold everywhere. Therefor $I_n=I'_n$ and $J_n=gr(I_n)$.
\end{proof}

\begin{cor} We have $R_n/J_n\cong R_n/I_n$ as vector spaces.\end{cor}

\begin{rem} The weak order on $\QSV_n$ that we defined in Section~\ref{sec:weakorder} has the following property. For any noncrossing partition $\lambda$ we define $\ell(\lambda)$ to be
the length of the shortest path from the identity to $C_\lambda$ is the weak order on $S_n/\!\!\sim$. In a sequel paper, we construct polynomial $m_\lambda$ of degree $\ell(\lambda)$
such that for any $Q_\mu\in \QSV_n$ we have
	$$ m_\lambda(Q_\mu)=\begin{cases}1&\text{ if }\lambda=\mu,\\ 0 &\text{ if  } \mu<_w\lambda. \end{cases}$$
Furthermore the polynomial 
	$$H_n(q) = \sum_\lambda q^{\ell(\lambda)}$$
is the Hilbert series of the (graded) quotient $R_n/J_n$
\end{rem}
\Nantel{add some concluding remarks}

\newpage

\begin{thebibliography}{99}

\bibitem{ABS} M. Aguiar, N. Bergeron and F. Sottile,
\textit{Combinatorial {H}opf algebras and generalized
              {D}ehn-{S}ommerville relations},
{Compos. Math.},
 {\bf 142-=1} (2006) 1--30.


\bibitem{AB} J. C. Aval, N. Bergeron,
\textit{Catalan paths and quasi-symmetric functions}.
Proc. of the Am. Math. Soc. {\bf 131(4)} (2003) 1053--1062.

\bibitem{ABB} J. C. Aval, F. Bergeron, N. Bergeron,
\textit{Ideals of quasi-symmetric functions and super-covariant polynomials for $S_n$}.
Adv. in Math. {\bf 181 (2)} (2004) 353--367.

\bibitem{Baine}  Philippe Biane.  \textit{Some properties of crossings and partitions}. Discrete Mathamatics {\bf 175} (1997) 41-53.

\bibitem{BjornerBrenti}  Francesco Brenti and Anders Bj\"{o}rner.  Combinatorics of Coxeter Groups. Germany: Springer Berlin Heidelberg, 2010.


\bibitem{CLO} D. Cox, J. Little, D. O'Shea,
\textit{Ideals, varieties, and algorithms: an introduction to computational
algebraic geometry and commutative algebra}.
Springer Science \& Business Media; 2013 Mar 9.

\bibitem{GP} A.~M~.Garsia and C.~Procesi.
\textit{On certain graded {$S_n$}-modules and the {$q$}-{K}ostka
              polynomials},
 {Adv. Math.}
 {\bf 94-1} (1992)  82--138.
 
\bibitem{Gessel} I. M. Gessel,
\textit{Multipartite {$P$}-partitions and inner products of skew
              {S}chur functions}.
{Combinatorics and algebra ({B}oulder, {C}olo., 1983)} 
{Contemp. Math.}, {\bf 34} (1984)
    289--317.
    
    
\bibitem{GobetWilliams}  Thomas Gobet and Nathan Williams.  \textit{Noncrossing partitions and Bruhat order}. European Journal of Combinatorics {\bf 53} (2016) 8-34.

\bibitem{Grinberg} D.~Grinberg, 
 \textit{Studies on {Q}uasisymmetric {F}unctions},
{Thesis (Ph.D.)--Massachusetts Institute of Technology},
 (2016) 302 pages.
http://dspace.mit.edu/handle/1721.1/104468.

\bibitem{Hivert} F. Hivert,
\textit{Hecke algebras, difference operators, and quasi-symmetric functions},
 {Adv. Math.},
{\bf 155-2} (2000) 181--238.

\bibitem{Humphrey} J. E. Humphreys,   \textit{Reflection groups and {C}oxeter groups},
 {Cambridge Studies in Advanced Mathematics},
{\bf 29},
(1990) 204 pages.

\bibitem{L} S. X. Li,
\textit{Ideals and quotients of diagonally quasi-symmetric functions}.
Elec. J. Comb., Vol 24, Issue \#3, P3.3.
\href{https://doi.org/10.37236/6658}{10.37236/6658}.

\bibitem{LMvW} 
K.~Luoto, S.~Mykytiuk and S. van Willigenburg,
\textit{An introduction to quasisymmetric {S}chur functions, Hopf algebras, quasisymmetric functions, and Young composition
              tableaux},
{Springer, New York}
(2013)
89 pages.
  
\bibitem{Mason} S.~K.~Mason, 
\textit{Recent trends in quasisymmetric functions},
{Recent trends in algebraic combinatorics},
 {Assoc. Women Math. Ser.},
 {\bf 16} (2019) 
{239--279}.
    
\bibitem{McCammond} Jon McCammond
\textit{Noncrossing Partitions in Surprising Locations}.
Amer. Math. Monthly 113, {\bf 7} (2006), 598-610.

\bibitem{MacSchub} I. G. Macdonald,
\textit{Notes on Schubert polynomials}.
Publications LACIM, vol. 6, Universit\'e du Qu\'ebec \`a Montr\'eal,  (1991) [ISBN 978-2-89276-086-6].

\bibitem{StanleyQSym}  R. P. Stanley, 
\textit{Ordered structures and partitions},
Memoirs of the AMS {\bf 119} (1972).

\bibitem{Stanley} R. P.  Stanley,
\textit{Enumerative combinatorics. {V}ol. 2}.
{Cambridge Studies in Advanced Mathematics}, Vol. {62},
{Cambridge University Press, Cambridge}, (1999). [and its {Catalan Addendum} https://math.mit.edu/$\sim$rstan/ec/catadd.pdf]

\bibitem{Zinno}  Matthew Zinno.  \textit{A Temperley--Lieb basis coming from the Braid group}. Journal of Knot Theory and Its Ramifications 11, {\bf 4} (2002) 575-599.

\end{thebibliography}



\end{document}


